"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[1477],{10:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"/2024/08/15/ \u6811\u76f8\u5173\u51fd\u6570\u7684\u5b9e\u73b0\u548cts\u5c01\u88c5","metadata":{"permalink":"/blog/2024/08/15/ \u6811\u76f8\u5173\u51fd\u6570\u7684\u5b9e\u73b0\u548cts\u5c01\u88c5","source":"@site/blog/2024-08-15 \u6811\u76f8\u5173\u51fd\u6570\u7684\u5b9e\u73b0\u548cts\u5c01\u88c5.md","title":" \u6811\u76f8\u5173\u51fd\u6570\u7684\u5b9e\u73b0\u548cts\u5c01\u88c5","description":"\u4e0b\u9762\u7684\u5185\u5bb9\u5173\u4e8e\u5c01\u88c5\u7684\u6811\u7684\u90e8\u5206\u64cd\u4f5c\u7684\u5de5\u5177\u7c7b\uff0c\u5e73\u94fa\u6811\u8f6c tree\uff0c\u6811\u8f6c\u5e73\u94fa\u3001\u6811\u7684\u904d\u5386\u3001\u67e5\u627e\u3001\u7b5b\u9009\u7b49\u3002","date":"2024-08-15T00:00:00.000Z","formattedDate":"2024\u5e748\u670815\u65e5","tags":[],"readingTime":8.66,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"nextItem":{"title":"pnpm \u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38","permalink":"/blog/2024/1/9/ pnpm\u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38"}},"content":"\u4e0b\u9762\u7684\u5185\u5bb9\u5173\u4e8e\u5c01\u88c5\u7684\u6811\u7684\u90e8\u5206\u64cd\u4f5c\u7684\u5de5\u5177\u7c7b\uff0c\u5e73\u94fa\u6811\u8f6c tree\uff0c\u6811\u8f6c\u5e73\u94fa\u3001\u6811\u7684\u904d\u5386\u3001\u67e5\u627e\u3001\u7b5b\u9009\u7b49\u3002\\n\\n### \u6811\u7684\u81ea\u5b9a\u4e49\u7ed3\u6784\\n\\ntreeCreate \u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u5e73\u94fa\u6570\u7ec4\uff0c\u5176\u4e2d\u5e73\u94fa\u6570\u7ec4\u4e2d\u7684\u8282\u70b9\u6570\u636e\u7ed3\u6784\u603b\u662f\u53ef\u53d8\u7684\uff0c\u4e3a\u4e86\u6ee1\u8db3\u8fd9\u4e2a\u51fd\u6570\u80fd\u591f\u4f5c\u4e3a\u901a\u7528\u51fd\u6570\u4f7f\u7528\uff0c\u5728\u51fd\u6570\u53c2\u6570\u4e2d\u63d0\u4f9b\u4e86\u914d\u7f6e\u9879\uff0c\u5176\u4e2d id \u548c faId \u4e3a\u6811\u8282\u70b9\u7684 id \u548c\u7236\u8282\u70b9 id\uff0cchildren \u4e3a\u5b50\u8282\u70b9\u7684\u5c5e\u6027\u540d\u3002**\u5176\u4e2d ts \u7c7b\u578b\u662f\u6bd4\u8f83\u5b8c\u5584\u7684\uff0c\u4f60\u80fd\u591f\u63d0\u4f9b\u6cdb\u578b\u53bb\u7ea6\u675f\u6811\u8282\u70b9\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u63d0\u4f9b\u6cdb\u578b\uff0c\u8ba9\u5176\u81ea\u52a8\u8bc6\u522b\u5b50\u8282\u70b9\u7c7b\u578b\uff0c\u4ece\u800c\u63d0\u4f9b\u914d\u7f6e\u9879\u4e2d\u503c\u7684\u81ea\u52a8\u5224\u65ad\u3002**\\n\\n### \u5b9e\u73b0\\n\\n```typescript\\nenum TreeNodeTypeKeyEnum {\\n    id = \\"id\\",\\n    faId = \\"faId\\",\\n    children = \\"children\\",\\n}\\n\\n/** \u9ed8\u8ba4\u8282\u70b9\u53c2\u6570\u6570\u636e\u7c7b\u578b */\\nexport type TreeNodeItemType = {\\n    id: TreeNodeTypeKeyEnum.id;\\n    faId: TreeNodeTypeKeyEnum.faId;\\n    children: TreeNodeTypeKeyEnum.children;\\n};\\n\\n/** \u6784\u5efa\u6811\u51fd\u6570\u914d\u7f6e\u9879 */\\ntype TreeCreateConfig<T extends Record<string, string>> = {\\n    keyMapping: Partial<Record<keyof Pick<TreeNodeItemType, \\"id\\" | \\"faId\\" | \\"children\\">, keyof T>>;\\n};\\n\\n/** \u68c0\u67e5\u662f\u5426\u662f\u53ef\u7d22\u5f15\u7c7b\u578b */\\nconst checkIndexType = (data: any) => {\\n    return [\\"string\\", \\"number\\", \\"symbol\\"].includes(typeof data);\\n};\\n\\n/** \u6811\u539f\u578b\u7c7b\u578b */\\ntype TreePrototypeType<T> = {\\n    treeForEach: (callback?: (item: T) => void) => ReturnType<typeof treeDFS<T>>;\\n    treeFind: (callback?: (item: T) => boolean) => ReturnType<typeof treeFind<T>>;\\n    treeFilter: (\\n        callback?: (item: T) => boolean,\\n        config?: {\\n            isSearch?: boolean;\\n        }\\n    ) => ReturnType<typeof treeFilter<T>>;\\n};\\n\\n/** key\u4e3aK\u7c7b\u578b\u4e2d\u6240\u6709\u7684key\uff0c\u4ee5K[key]\u4f5c\u4e3a\u7d22\u5f15\uff0c\u7528\u7d22\u5f15\u4f5c\u4e3akey\u53d6T\u4e2d\u5bf9\u5e94key\u7684\u7c7b\u578b\uff0c\u8be5\u7c7b\u578b\u5219\u4e3aK[key]\u7684\u7c7b\u578b */\\ntype TypeToRecord<T extends Record<string, any>, K extends Record<string, string>> = {\\n    [key in keyof K as K[key]]: T[K[key]];\\n};\\n\\n/**\\n *\u3010\u6811\u7684\u81ea\u5b9a\u4e49\u952e\u914d\u7f6e\u3011\\n */\\ntype TreeTypeWithouPrototype<T extends Record<string, any>, K extends Record<string, string>> = K extends {\\n    children: string;\\n}\\n    ? TypeToRecord<T, K>\\n    : TypeToRecord<T, K> & { children: TreeType<T, K> };\\n\\n/**\\n * \u3010\u6811\u7ed3\u6784\u7c7b\u578b\u3011\\n *\\n * T\uff1a\u6811\u8282\u70b9\u7684\u7c7b\u578b\\n *\\n * K\uff1a\u81ea\u5b9a\u4e49\u952e\\n *\\n * \u5982\u679c K \u4e2d\u6ca1\u6709\u6307\u5b9achildren\uff0c\u5219\u6700\u7ec8\u8fd4\u56de\u7684\u7c7b\u578b\u4f1a\u5305\u542bchildren\uff1b\\n *\\n * \u5982\u679cK\u4e2d\u6307\u5b9a\u4e86children\uff0c\u6700\u7ec8\u8fd4\u56de\u7c7b\u578b\u5c06\u6ca1\u6709children\uff0c\u800c\u662f K \u7c7b\u578b\u4e2dchildren\u5bf9\u5e94\u503c\u7684\u7c7b\u578b\u3002\\n */\\ntype TreeType<T extends Record<string, any>, K extends Record<string, any>> = TreeTypeWithouPrototype<T, K>[] & TreePrototypeType<TreeTypeWithouPrototype<T, K>>;\\n\\n/**\\n * \u5e73\u94fa\u6570\u7ec4\u8f6c\u5316\u6210\u6811\\n * @param arr \u5e73\u94fa\u6570\u7ec4\\n * @param keyMapping \u4f7f\u7528\u81ea\u5b9a\u4e49\u7684key\u6765\u4f5c\u4e3a\u8282\u70b9\u6570\u636e\u4e2d\u7684id\u548cfaId\\n * @returns\\n */\\nexport function treeCreate<T extends Record<string, any>, K extends TreeCreateConfig<T>[\\"keyMapping\\"]>(_arr: T[], keyMapping: K): TreeType<T, K> {\\n    const arrData = _arr.slice();\\n\\n    /** id\u3001faId\u3001children\u7684key */\\n    const customInfo = {\\n        idKey: (keyMapping.id ? keyMapping.id : TreeNodeTypeKeyEnum.id) as string,\\n        faIdKey: (keyMapping.faId ? keyMapping.faId : TreeNodeTypeKeyEnum.faId) as string,\\n        childrenKey: (keyMapping.children ? keyMapping.children : TreeNodeTypeKeyEnum.children) as string,\\n    };\\n\\n    /** \u83b7\u53d6\u5230\u6570\u636e\u7684id\u503c */\\n    const getId = (data: T): string | null => {\\n        // \u5224\u65ad\u662f\u5426\u6709keyMapping\u4e2d\u7684id\uff0c\u5982\u679c\u6709\\n        const id: string = (data as any)[customInfo.idKey];\\n\\n        if (!checkIndexType(id)) return null;\\n        return id;\\n    };\\n\\n    /** \u83b7\u53d6\u5230\u6570\u636e\u7684id\u503c */\\n    const getFaId = (data: T): string | null => {\\n        const faId: string = (data as any)[customInfo.faIdKey];\\n\\n        if (!checkIndexType(faId)) return null;\\n        return faId;\\n    };\\n\\n    /** \u83b7\u53d6\u5230\u6570\u636e\u7684children\u503c */\\n    const getChildren = (data: T) => {\\n        const children = (data as any)[customInfo.childrenKey];\\n        if (!(children instanceof Array)) return null;\\n        return children;\\n    };\\n\\n    /** \u6784\u5efa\u6811*/\\n    const buildTree = () => {\\n        const tree = bindTreeFunction([]);\\n        const treeMap = new Map<string, T>();\\n\\n        arrData.forEach((item) => {\\n            const id = getId(item);\\n            const faId = getFaId(item);\\n            const children = bindTreeFunction(getChildren(item) || []);\\n\\n            if (id) {\\n                treeMap.set(id, {\\n                    [customInfo.idKey]: id,\\n                    [customInfo.faIdKey]: faId,\\n                    [customInfo.childrenKey]: children,\\n                } as unknown as T);\\n            }\\n        });\\n\\n        for (let i = 0; i < arrData.length; i++) {\\n            const item = arrData[i];\\n            const faId = getFaId(item);\\n            const id = getId(item);\\n\\n            if (!id || !faId) continue;\\n\\n            const node = treeMap.get(id);\\n            const father = treeMap.get(faId);\\n            // \u904d\u5386\u6bcf\u4e00\u4e2a\u8282\u70b9\\n            if (node) {\\n                if (!father) {\\n                    tree.push(node);\\n                } else {\\n                    const children = getChildren(father);\\n                    if (!(children instanceof Array)) {\\n                        throw new Error(`\'${customInfo.childrenKey}\'\u7684\u503c\u4e0d\u662f\u4e00\u4e2a\u6570\u7ec4`);\\n                    }\\n                    children.push(node);\\n                }\\n            }\\n        }\\n\\n        return tree;\\n    };\\n\\n    /** \u7ed1\u5b9a\u539f\u578b\u51fd\u6570 */\\n    const bindTreeFunction = (tree: TreeType<T, K>[]) => {\\n        const childrenKey = customInfo.childrenKey as keyof TreeType<T, K>;\\n\\n        const prototypeFun: TreePrototypeType<TreeType<T, K>> = {\\n            treeForEach: (callback) =>\\n                treeDFS(tree, callback, {\\n                    childrenKey,\\n                }),\\n            treeFind: (callback) =>\\n                treeFind(tree, callback, {\\n                    childrenKey,\\n                }),\\n            treeFilter: (callback, config) =>\\n                treeFilter(tree, callback, {\\n                    ...config,\\n                    childrenKey,\\n                }),\\n        };\\n\\n        const res = Object.create(Array.prototype, Object.getOwnPropertyDescriptors(prototypeFun));\\n        return Object.setPrototypeOf(tree, res);\\n    };\\n\\n    return buildTree();\\n}\\n\\n/**\\n * \u6df1\u5ea6\u4f18\u5148\u904d\u5386\\n * @param tree \u6811\u6570\u636e\\n * @param callback \u904d\u5386\u5230\u6bcf\u4e2a\u5143\u7d20\u65f6\u7684\u56de\u8c03\uff0c\u53c2\u6570\u4e3a\u8282\u70b9\\n * @param config.childrenKey\\n */\\nexport function treeDFS<T>(tree: T[], callback?: (item: T) => void, config?: { childrenKey?: keyof T }): void {\\n    const childrenKey = config?.childrenKey || \\"children\\";\\n\\n    /** \u4f20\u9012\u8282\u70b9 \u83b7\u53d6\u5230children\u7684\u5f15\u7528 */\\n\\n    const getChildren = (item: T) => {\\n        const children = (item as any)[childrenKey];\\n        if (!(children instanceof Array)) {\\n            throw new Error(\\"\u6ca1\u6709children\u5b57\u6bb5\uff0c\u6216\u5728\u914d\u7f6e\u9879\u53c2\u6570\u4e2d\u6307\u5b9achildrenKey\u4e3achildren\u7684key\\");\\n        }\\n        return children;\\n    };\\n\\n    const list = tree.slice();\\n    let current: T | undefined;\\n\\n    while ((current = list.shift())) {\\n        callback && callback(current);\\n\\n        const currentChildren = getChildren(current);\\n\\n        if (currentChildren.length !== 0) {\\n            list.unshift(...currentChildren);\\n        }\\n    }\\n}\\n\\n/**\\n *\\n * @param tree \u6811\u6570\u636e\\n * @param callback \u56de\u8c03\u51fd\u6570\uff0c\u8fd4\u56de\u503c\u4e3aboolean\uff0c\u53c2\u6570\u63a5\u6536\u8282\u70b9\u7c7b\u578b\\n * @param confi.childrenKey\\n * @returns callback\u4e3atrue\u65f6\u8fd4\u56de\u7684\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u7b26\u5408callback\u7684\u8282\u70b9\u5219\u8fd4\u56denull\\n */\\nexport function treeFind<T>(\\n    tree: T[],\\n    callback?: (item: T) => boolean,\\n    config?: {\\n        childrenKey?: keyof T;\\n    }\\n): T | null {\\n    const { childrenKey } = config || {};\\n\\n    /** \u4f20\u9012\u8282\u70b9 \u83b7\u53d6\u5230children\u7684\u5f15\u7528 */\\n    const getChildren = (item: T) => {\\n        const children = (item as any)[childrenKey || \\"children\\"];\\n        if (!(children instanceof Array)) {\\n            throw new Error(\\"\u6ca1\u6709children\u5b57\u6bb5\uff0c\u6216\u5728\u914d\u7f6e\u9879\u53c2\u6570\u4e2d\u6307\u5b9achildrenKey\u4e3achildren\u7684key\\");\\n        }\\n        return children;\\n    };\\n\\n    const list = tree.slice();\\n    let current: T | undefined;\\n\\n    while ((current = list.shift())) {\\n        const children = getChildren(current);\\n\\n        if (callback && callback(current)) {\\n            // \u7b26\u5408\u7b5b\u9009callback\u6761\u4ef6\u7684\u8fd4\u56de\\n            return current;\\n        } else {\\n            if (children.length !== 0) {\\n                list.unshift(...children);\\n            }\\n        }\\n    }\\n\\n    return null;\\n}\\n\\n/**\\n * @param tree \u6811\u6570\u636e\\n * @param callback \u8fc7\u6ee4\u56de\u8c03\u51fd\u6570\\n * @param config.isSearch\\n * \u4e3atrue\u65f6\uff0c\u641c\u7d22\u8fc7\u6ee4\uff0c\u641c\u7d22\u51fa\u8282\u70b9\uff0c\u4fdd\u7559\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u7236\u8282\u70b9\u3002\\n *\\n * \u4e3afalse\u65f6\uff0c\u5b50\u6811\u8fc7\u6ee4\uff0c\u4e0d\u7b26\u5408callback\u7684\u8282\u70b9\u4ee5\u53ca\u5b50\u8282\u70b9\u90fd\u820d\u5f03\u3002\\n * @param config.childrenKey \u6811\u4e2d\u8282\u70b9\u7528\u6765\u5d4c\u5957\u5b50\u8282\u70b9\u7684children\u7684key\\n * @returns \u8282\u70b9\u6570\u7ec4\\n */\\nexport function treeFilter<T>(\\n    tree: T[],\\n    callback?: (item: T) => boolean,\\n    config?: {\\n        isSearch?: boolean;\\n        childrenKey?: keyof T;\\n    }\\n): T[] {\\n    const { childrenKey } = config || {};\\n\\n    /** \u4f20\u9012\u8282\u70b9 \u83b7\u53d6\u5230children\u7684\u5f15\u7528 */\\n    const getChildren = (item: T) => {\\n        const children = (item as any)[childrenKey || \\"children\\"];\\n        if (!(children instanceof Array)) {\\n            throw new Error();\\n        }\\n        return children;\\n    };\\n\\n    const { isSearch } = config || {};\\n    const filterTarget: T[] = [];\\n\\n    const list = tree.slice();\\n    let current: T | undefined;\\n\\n    // \u672a\u4f20\u9012callback\u65f6\uff0c\u8fd4\u56de\u7a7a\u6570\u7ec4\\n    if (!callback) return [];\\n\\n    while ((current = list.shift())) {\\n        const children = getChildren(current);\\n\\n        const filteredChildren = treeFilter(children, callback, {\\n            ...config,\\n            isSearch: true,\\n        });\\n\\n        // \u641c\u7d22\u8fc7\u6ee4\uff0c\u53ea\u8981\u5b50\u8282\u70b9\u6ee1\u8db3\uff0c\u5219\u6240\u6709\u7236\u7ea7\u8282\u70b9\u90fd\u4fdd\u7559\\n        if (isSearch) {\\n            if (filteredChildren.length > 0 || callback(current)) {\\n                filterTarget.push({\\n                    ...current,\\n                    [childrenKey as string]: filteredChildren,\\n                });\\n            }\\n        } else {\\n            // \u5b50\u6811\u8fc7\u6ee4\uff0c\u8282\u70b9\u4e0d\u6ee1\u8db3\u5219\u820d\u5f03\u6240\u6709\u5b50\u8282\u70b9\\n            if (callback(current)) {\\n                filterTarget.push({\\n                    ...current,\\n                    [childrenKey as string]: filteredChildren,\\n                });\\n            }\\n        }\\n    }\\n\\n    return filterTarget;\\n}\\n```\\n\\n\u4e0b\u9762\u662f\u4f7f\u7528\u3002**\u5728 createTree \u751f\u6210\u7684\u8282\u70b9\u4e2d\uff0c\u4f1a\u5728\u539f\u578b\u4e0a\u7ed1\u5b9a treeForeach\u3001treeFind\u3001treeFilter \u65b9\u6cd5\uff0c\u5728\u539f\u578b\u4e0a\u8c03\u7528\u65f6\u4f1a\u5229\u7528ts\u7c7b\u578b\u7b80\u5316\u4e00\u4e9b\u4f8b\u5982 childrenKey \u7684\u914d\u7f6e\u9879\u7684\u4f20\u9012\u3002**\\n\\n```typescript\\nconst nodes = [\\n    {\\n        code: \\"7zwqkfyqshl\\",\\n        facode: \\"0\\",\\n    },\\n    {\\n        code: \\"zzuuldvpbbc\\",\\n        facode: \\"7zwqkfyqshl\\",\\n    },\\n];\\nconst targetTree = treeCreate(nodes, {\\n    id: \\"code\\",\\n    faId: \\"facode\\",\\n});\\n\\nconsole.log(\\"@@\\", targetTree);\\n\\n// ------ \u6811\u904d\u5386\\nlet count = 0;\\ntreeDFS(\\n    targetTree,\\n    (item) => {\\n        count++;\\n        item;\\n    },\\n    {\\n        childrenKey: \\"test\\",\\n    }\\n);\\n\\ntargetTree.treeForEach((item) => {\\n    count++;\\n    item;\\n});\\nconsole.log(\\"2. \u6811\u904d\u5386\\", count);\\n\\n// ------ \u6811\u67e5\u627e\\nconsole.log(\\"3. \u6811\u67e5\u627e\\");\\ntreeFind(\\n    targetTree,\\n    (item) => {\\n        return item.code.includes(\\"f\\");\\n    },\\n    {\\n        childrenKey: \\"test\\",\\n    }\\n);\\n\\nconst findTarget = targetTree.treeFind((item) => {\\n    return item.code.includes(\\"f\\");\\n});\\nconsole.log(findTarget, findTarget?.code);\\n\\n// ------ \u6811\u8fc7\u6ee4\\n// \u5b50\u6811\u8fc7\u6ee4\\ntargetTree.treeFilter((item) => {\\n    return item.code.includes(\\"f\\");\\n});\\n\\n// \u641c\u7d22\u8fc7\u6ee4\\nconst filterTarget = treeFilter(\\n    targetTree,\\n    (item) => {\\n        return item.code.includes(\\"f\\");\\n    },\\n    {\\n        isSearch: true,\\n        childrenKey: \\"test\\",\\n    }\\n);\\nconsole.log(\\"4. \u6811\u8fc7\u6ee4\\", filterTarget);\\n```"},{"id":"/2024/1/9/ pnpm\u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38","metadata":{"permalink":"/blog/2024/1/9/ pnpm\u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38","source":"@site/blog/2024-1-9 pnpm\u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38.md","title":"pnpm \u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38","description":"\u95ee\u9898","date":"2024-01-09T00:00:00.000Z","formattedDate":"2024\u5e741\u67089\u65e5","tags":[],"readingTime":0.345,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":" \u6811\u76f8\u5173\u51fd\u6570\u7684\u5b9e\u73b0\u548cts\u5c01\u88c5","permalink":"/blog/2024/08/15/ \u6811\u76f8\u5173\u51fd\u6570\u7684\u5b9e\u73b0\u548cts\u5c01\u88c5"},"nextItem":{"title":"2023-12-23 monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898","permalink":"/blog/2023/12/23/ monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898"}},"content":"## \u95ee\u9898\\n\\n\u5728\u4f7f\u7528 pnpm \u547d\u4ee4\u7684\u65f6\u5019\uff0c\u62a5\u9519\u4e0b\u5217\u4fe1\u606f\u3002\\n\\n```\\n\u2009WARN\u2009 POST http://localhost:5813/requestPackage error (ECONNREFUSED). Will retry in 1 minute. 99 retries left.\\n```\\n\\n## \u89e3\u51b3\\n\\n[https://github.com/pnpm/pnpm/issues/4177](https://github.com/pnpm/pnpm/issues/4177)\\n\u8fd9\u662f pnpm \u7684\u8be5\u89e3\u51b3\u65b9\u6848\u7684 issue\u3002\\n\\n\u5176\u4e2d\u89e3\u51b3\u65b9\u6cd5\u662f\uff1a\\n\\n- macOS \u73af\u5883\u4e0b\u5220\u9664`~/.pnpm-store/v3/server/server.json`\\n- windows \u73af\u5883\u4e0b\u5220\u9664`%LocalAppData%\\\\pnpm\\\\store\\\\v3\\\\server\\\\server.json`"},{"id":"/2023/12/23/ monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898","metadata":{"permalink":"/blog/2023/12/23/ monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898","source":"@site/blog/2023-12-23 monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898.md","title":"2023-12-23 monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898","description":"\u9047\u5230\u7684\u95ee\u9898\u63cf\u8ff0","date":"2023-12-23T00:00:00.000Z","formattedDate":"2023\u5e7412\u670823\u65e5","tags":[],"readingTime":4.76,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"pnpm \u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38","permalink":"/blog/2024/1/9/ pnpm\u5b89\u88c5\uff0c\u62a5\u9519\u672c\u5730\u670d\u52a1\u5f02\u5e38"},"nextItem":{"title":"2023-10-21 Ant Deisgn \u6a21\u6001\u6846\u5185\u5d4c Form \u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0","permalink":"/blog/2023/10/21/ Ant Deisgn\u6a21\u6001\u6846\u5185\u5d4cForm\u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0"}},"content":"## \u9047\u5230\u7684\u95ee\u9898\u63cf\u8ff0\\r\\n\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u7684\u9879\u76ee\u662f\u4e00\u4e2a\u7528`create-react-app`\uff08webpack\uff09\u6765\u642d\u5efa\u7684monorepo\u9879\u76ee\u3002\\r\\n\u5176\u4e2d\u7684\u76ee\u5f55\u7ed3\u6784\u5927\u6982\u662f\\r\\n\\r\\n```json\\r\\n|-scripts\\r\\n    |-start.js\\r\\n    |-paths.js\\r\\n    |-webpack.config.js\\r\\n|-packages\\r\\n    |-package1\\r\\n        |- src\\r\\n        |- package.json\\r\\ntsconfig.json\\r\\npackage.json\\r\\npnpm.workspace.yaml\\r\\n...\\r\\n```\\r\\n\\r\\n\u5728\u6211\u4eec\u666e\u901asrc\u7ed3\u6784\u7684\u9879\u76ee\u4e2d\uff0c\u901a\u8fc7`npm run start`\u53bb\u6267\u884c`scripts`\u4e2d\u7684`start.js`,\u9879\u76ee\u4f1a\u4ee5`webpack.config.js`\u53bb\u542f\u52a8\u9879\u76ee\u3002\\r\\n\\r\\n\u5728package1.json\u4e2d\u7684`start`\u7684script\u914d\u7f6e\u662f\u8fd9\u6837\u3002\u5f88\u597d\u7406\u89e3\uff0c\u5c31\u662f\u53bb\u8c03\u7528\u603b\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684`start.js`\u6587\u4ef6\u3002\\r\\n```\\r\\nstart:\\"node ../../scripts/start.js\\"\\r\\n```\\r\\n\\r\\n\u5728package.json\u4e2d\u7684`start`\u5c31\u662f`pnpm run start --filter package1`\\r\\n\\r\\n\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u6211\u5728package1\u7684src\u4e0b`index.tsx`\u6765\u5f15\u7528\u53e6\u5916\u4e00\u4e2a`App.tsx`\uff0c\u62a5\u9519\u4e3a`module not fount, ..../App ...`\uff0c\u90a3\u4e48\u5f53\u6211\u7ed9`.App`\u52a0\u4e0a`.tsx`\u7684\u540e\u7f00\u4e4b\u540e\uff0c\u5c31\u4e0d\u62a5\u9519\u4e86\u3002\\r\\n\\r\\n\u6839\u636e\u8fd9\u4e00\u70b9\uff0c\u5f88\u591a\u9002\u5408\u4f1a\u60f3\u5230\u662f\u914d\u7f6e\u6587\u4ef6`tsconfig.ts`\u7684\u95ee\u9898\uff0c\u7ed3\u679c\u5728`package1`\u4e2d\u6dfb\u52a0`tsconfig.js`\u4e4b\u540e\uff0c\u95ee\u9898\u771f\u7684\u597d\u4e86\uff0c\u4f46\u662f\u6211\u5e0c\u671b\u7684\u662f\u6574\u4e2a\u9879\u76ee\u53ea\u6709\u4e00\u4e2a`tsconfig.js`\uff0c\u5b50\u5305\u91cc\u9762\u4e0d\u7528\u53e6\u5916\u7684\u914d\u7f6e\uff0c\u56e0\u4e3a\u6211\u8fd9\u4e9b\u9879\u76ee\u90fd\u662f\u5173\u8054\u8d77\u6765\u7684\u3002\\r\\n\\r\\n\u867d\u7136\u8bf4\u6dfb\u52a0\u4e86`tsconfig.js`\u95ee\u9898\u5c31\u597d\u4e86\uff0c\u4f46\u662f\u771f\u7684\u662f\u5b83\u7684\u539f\u56e0\u5417\uff1f\u60f3\u4e00\u60f3\u53d1\u73b0\uff0c\u4e0d\u4f1a\uff0c\u56e0\u4e3ats\u662f\u4e0d\u4f1a\u5728\u9879\u76ee\u8fd0\u884c\u65f6\u8d77\u4f5c\u7528\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5c31\u7b97\u62a5\u9519\u4e86\u9879\u76ee\u4e5f\u80fd\u8dd1\u8d77\u6765\u3002\u90a3\u8fd9\u6837\uff0c\u5c31\u53ea\u80fd\u662f**\u6253\u5305\u5de5\u5177**\u7684\u95ee\u9898\u4e86\uff0c\u6253\u5305\u5de5\u5177\u6ca1\u6709\u6b63\u786e\u7684\u89e3\u6790\u6307\u5b9a\u540e\u7f00\u540d\u7684\u6587\u4ef6\u3002\\r\\n\\r\\n## \u5206\u6790webpack\uff0c\u5b9a\u4f4d\u95ee\u9898\\r\\n\\r\\n```js webpack.config.js\\r\\nresolve: {\\r\\n\\t\\t\\tmodules: [\\"node_modules\\", paths.appNodeModules].concat(\\r\\n\\t\\t\\t\\tmodules.additionalModulePaths || [],\\r\\n\\t\\t\\t),\\r\\n\\t\\t\\textensions: paths.moduleFileExtensions\\r\\n\\t\\t\\t\\t.map((ext) => `.${ext}`)\\r\\n\\t\\t\\t\\t.filter((ext) => useTypeScript || !ext.includes(\\"ts\\")),\\r\\n\\t\\t\\talias: {\\r\\n\\t\\t\\t\\t// Support React Native Web\\r\\n\\t\\t\\t\\t// https://www.smashingmagazine.com/2016/08/\\r\\n```\\r\\n\\r\\n\u5176\u4e2d resolve.extensions\uff0c\u9488\u5bf9\u4e00\u4e9b\u914d\u7f6e\u540e\u7f00\u540d\u8fdb\u884c\u4e86\u4e00\u4e9b\u9884\u5904\u7406\uff0c\u4f8b\u5982babel\u7b49\u3002\\r\\n\\r\\n```js\\r\\nextensions: paths.moduleFileExtensions\\r\\n\\t\\t\\t\\t.map((ext) => `.${ext}`)\\r\\n\\t\\t\\t\\t.filter((ext) => useTypeScript || !ext.includes(\\"ts\\")),\\r\\n```\\r\\n\u7531\u4e0a\u9762\u8fd9\u4e00\u6bb5\u914d\u7f6e\u53ef\u4ee5\u770b\u51fa\uff0c`paths.moduleFileExtensions`\u4e2d\u5bfc\u51fa\u4e86\u88ab\u5904\u7406\u7684\u4e00\u4e9b\u6a21\u5757\u7684\u540e\u7f00\u540d\uff0c\u540e\u9762filter\u662f\u6839\u636e`useTypescript`\u8fd9\u4e2a\u53c2\u6570\u6765\u5224\u65ad\u662f\u5426\u8981\u5305\u542b\u5e26\u6709`.ts`\u540e\u7f00\u7684\uff0c\u5176\u4e2d\u4e5f\u5c31\u5305\u542b\u4e86`.ts`,`.tsx`\u7b49\u7b49\u3002\\r\\n\\r\\n```js useTypescript\\r\\n// Check if TypeScript is setup\\r\\nconst useTypeScript = fs.existsSync(paths.appTsConfig)\\r\\n```\\r\\n\u7136\u540e\u4ece\u4e0a\u9762\u53d1\u73b0\uff0cuseTypescript\u5c31\u662f\u5224\u65ad\u4e00\u4e2a\u8def\u5f84\u662f\u5426\u5b58\u5728\uff0c\u4e5f\u5c31\u662f`paths.appTsConfig`\u662f\u5426\u5b58\u5728\u3002\u7ee7\u7eed\u67e5\u770b\uff0c\u53d1\u73b0\u8fd9\u4e2a\u914d\u7f6e\u5c31\u662f\\r\\n`appTsConfig: resolveApp(\\"tsconfig.json\\"),`\uff0c\u4e5f\u5c31\u662f\u67e5\u770b\u5f53\u524d\u8fd0\u884c\u8def\u5f84\u4e0b\u662f\u5426\u6709`tsconfig.json`\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u3002\\r\\n\\r\\n## \u89e3\u51b3\u95ee\u9898\\r\\n\u4e0a\u9762\u8bf4\u4e86\uff0c\u8fd0\u884c\u5b50\u9879\u76ee\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u662f\u8c03\u7528\u7684\u5b50\u9879\u76ee\u4e0b\u7684`start`\u7684script\uff0c**\u90a3\u4e48`process.cwd`\u4e5f\u5c31\u662f\u8fd4\u56de\u7684\u5b50\u9879\u76ee\u7684\u6839\u8def\u5f84\uff0c\u81ea\u7136webpack\u4e2d\u6765\u5224\u65ad\u662f\u5426\u652f\u6301ts\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4ece\u5b50\u9879\u76ee\u8def\u5f84\u4e0b\u5bfb\u627etsconfig.json\u7684\u914d\u7f6e\u6587\u4ef6\u4e86\u3002**\\r\\n\\r\\n\u7ed3\u5408\u6211\u4eec\u53ea\u5e0c\u671b\u6574\u4e2a\u9879\u76ee\u53ea\u6709\u4e00\u4e2a`tsconfig.json`\uff0c\u6211\u4eec\u6709\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5c31\u662f**\u4fee\u6539`webpack.config.js`\u7684\u914d\u7f6e\uff0c\u8ba9\u5b83\u53ea\u53bb\u5bfb\u627e\u9879\u76ee\u6839\u76ee\u5f55\u7684tsconfig.json\u3002**\u8fd9\u6837\u5c31\u4e0d\u80fd\u4f7f\u7528`process.cwd`\uff0c\u800c\u662f\u4f7f\u7528`__dirname`\u6765\u786e\u5b9a\u811a\u672c\u6240\u5728\u4f4d\u7f6e\uff0c\u7136\u540e\u56de\u9000\u5230\u6839\u76ee\u5f55\u4e0b\u3002\\r\\n\\r\\n```diff paths.js\\r\\nmodule.exports = {\\r\\n    ...\\r\\n-   appTsConfig: resolveApp(\\"tsconfig.json\\")\\r\\n+    appTsConfig: path.resolve(__dirname,\\"..\\",\\"tsconfig.json\\"),\\r\\n    ...\\r\\n}\\r\\n```\\r\\n\u6211\u4eec\u76f4\u63a5\u628a`appTsConfig`\u4e2d\u5bfb\u627e\u5f53\u524d\u8fd0\u884c\u9879\u76ee\u4e0b`tsconfig.json`\u7684\u8def\u5f84\uff0c\u6539\u6210\u4ece\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\u4e0b\u5b9a\u4f4d\u6839\u76ee\u5f55\u4e0b`tsconfig.json`\u3002\u8fd9\u6837\uff0c\u65e0\u8bba\u4ece\u54ea\u91cc\u8fd0\u884c\uff0c\u53ea\u8981\u4f7f\u7528\u4e86\u8fd9\u4e2a`webpack.config.js`\uff0c\u5c31\u4f1a\u5bfb\u627e\u540c\u4e00\u4e2a`tsconfig.json`\u3002\\r\\n\\r\\n\u73b0\u5728\u91cd\u65b0\u8fd0\u884c\u5b50\u9879\u76ee\uff0c\u53d1\u73b0\u53c8\u62a5\u9519\u4e86...\\r\\n```\\r\\nCannot find the \\"xxxxx\\\\package1\\\\tsconfig.json\\" file.\\r\\n\\r\\nPlease check webpack and ForkTsCheckerWebpackPlugin configuration.\\r\\nPossible errors:\\r\\n  - wrong `context` directory in webpack configuration (if `configFile` is not set or is a relative path in the fork plugin configuration)\\r\\n  - wrong `typescript.configFile` path in the plugin configuration (should be a relative or absolute path)  \\r\\n```\\r\\n\\r\\n\u770b\u6765\u8981\u4f7f\u7528ts\uff0c\u8fd8\u662f\u8981\u5728\u6bcf\u4e2a\u9879\u76ee\u4e0b\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\uff0c\u4f46\u662f**\u73b0\u5728\u6211\u4eec\u4e0d\u662f\u5355\u72ec\u7684\u914d\u7f6e\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u4e86\uff0c\u800c\u662f\u91c7\u7528\u7ee7\u627f\u7684\u65b9\u5f0f\u6765\u7ee7\u627f\u6839\u76ee\u5f55\u4e0b\u7684`tsconfig.json`\u3002**\\r\\n```\\r\\n{\\r\\n\\t\\"extends\\": \\"../../tsconfig.json\\"\\r\\n}\\r\\n```\\r\\n\\r\\n\u7136\u540e\u518d\u6b21\u8fd0\u884c\uff0c\u9879\u76ee\u6210\u529f\u8dd1\u901a\u4e0d\u62a5\u9519\u3002"},{"id":"/2023/10/21/ Ant Deisgn\u6a21\u6001\u6846\u5185\u5d4cForm\u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0","metadata":{"permalink":"/blog/2023/10/21/ Ant Deisgn\u6a21\u6001\u6846\u5185\u5d4cForm\u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0","source":"@site/blog/2023-10-21 Ant Deisgn\u6a21\u6001\u6846\u5185\u5d4cForm\u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0.md","title":"2023-10-21 Ant Deisgn \u6a21\u6001\u6846\u5185\u5d4c Form \u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0","description":"\u5728\u6a21\u6001\u6846\u4e2d\u5d4c\u5165\u4e86 Form \u8868\u683c\u5143\u7d20\uff0c\u7531\u5b98\u65b9\u7684\u8bf4\u6cd5\u662f","date":"2023-10-21T00:00:00.000Z","formattedDate":"2023\u5e7410\u670821\u65e5","tags":[],"readingTime":1.18,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"2023-12-23 monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898","permalink":"/blog/2023/12/23/ monorepo\u4e0b\u5339\u914d\u4e0d\u5230ts\u7684\u95ee\u9898"},"nextItem":{"title":"netlify \u90e8\u7f72\u8b66\u544a\u5bfc\u81f4 build \u4e2d\u65ad","permalink":"/blog/2023/10/10/ netlify\u90e8\u7f72\u8b66\u544a\u5bfc\u81f4build\u4e2d\u65ad"}},"content":"\u5728\u6a21\u6001\u6846\u4e2d\u5d4c\u5165\u4e86 Form \u8868\u683c\u5143\u7d20\uff0c\u7531\u5b98\u65b9\u7684\u8bf4\u6cd5\u662f\\n\\n```js\\nconst [form] = useForm()\\n\\nuseEffect(()=>{\\n    form.resetField()\\n})\\n\\n// \u7ec4\u4ef6\\n<Modal ...>\\n    <Form form={form}>...</Form>\\n</Modal>\\n```\\n\\n\u7528 useForm \u5c06 form \u7ed1\u5b9a\u5230 Form \u7ec4\u4ef6\u4e0a\uff0c\u901a\u8fc7\u8c03\u7528`form.resetFields`\u6765\u521d\u59cb\u5316 initialValue\u3002\\n\u4f46\u662f useEffect \u4e2d\u8c03\u7528 reset \u7684\u65f6\u5019\uff0c\u503c\u7684\u53d8\u5316\u603b\u662f\u4f1a\u5ef6\u8fdf\uff0c\u8fd9\u662f\u7531\u4e8e\u7ec4\u4ef6\u7684\u66f4\u65b0\u7b56\u7565\u5bfc\u81f4\u7684\u3002\\n\\nmodal \u53ea\u6302\u8f7d\u4e86\u4e00\u6b21\uff0cform \u4e5f\u53ea\u6302\u8f7d\u4e86\u4e00\u6b21\uff0c\u6240\u4ee5\u503c\u7684\u53d8\u5316\u662f\u6839\u636e react \u7684\u6e32\u67d3\u65f6\u673a\u6765\u51b3\u5b9a\u7684\u3002\u90a3\u4e48\u5c31\u6709\u4e00\u4e2a\u5f3a\u5236\u91cd\u8f7d\u7ec4\u4ef6\u7684\u65b9\u6cd5\uff0c\u53ef\u80fd\u4e0d\u662f\u6700\u597d\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u80fd\u89e3\u51b3\u95ee\u9898\u3002\\n\\n### \u89e3\u51b3\u65b9\u6cd5\\n\\n```diff\\n+const [visible,setVisible] = useState(false)\\nconst [form] = useForm()\\n\\nuseEffect(()=>{\\n    form.resetField()\\n-})\\n+},[visible])\\n\\n#  \u7ec4\u4ef6\\n<Modal ...>\\n{visible && <Modal ...>\\n    <Form form={form}></Form>\\n</Modal>}\\n```\\n\\n\u76d1\u542c visible\uff0c\u6765\u89e6\u53d1 reset \u51fd\u6570\uff0c\u90a3\u4e48\u6bcf\u6b21 visible \u6539\u53d8\u7684\u65f6\u5019 modal \u90fd\u4f1a\u88ab\u9500\u6bc1\u6216\u8005\u6302\u8f7d\uff0c\u968f\u540e form \u8fdb\u884c reset\uff0c\u80fd\u59cb\u7ec8\u4fdd\u6301 form \u5904\u4e8e\u6700\u65b0\u521d\u59cb\u5316\u72b6\u6001\u3002"},{"id":"/2023/10/10/ netlify\u90e8\u7f72\u8b66\u544a\u5bfc\u81f4build\u4e2d\u65ad","metadata":{"permalink":"/blog/2023/10/10/ netlify\u90e8\u7f72\u8b66\u544a\u5bfc\u81f4build\u4e2d\u65ad","source":"@site/blog/2023-10-10 netlify\u90e8\u7f72\u8b66\u544a\u5bfc\u81f4build\u4e2d\u65ad.md","title":"netlify \u90e8\u7f72\u8b66\u544a\u5bfc\u81f4 build \u4e2d\u65ad","description":"\u5728\u672c\u5730build\u9879\u76ee\u548cpreview\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u5728netlify\u90e8\u7f72\u5c31\u56e0\u4e3a\u8b66\u544a\u5bfc\u81f4\u4e86\u547d\u4ee4\u88ab\u4e2d\u65ad\uff0c\u90a3\u4e48\u5c31\u8981\u7528\u5230\u73af\u5883\u53d8\u91cf\u6765\u8ba9CI\u4e0d\u8fdb\u884c\u8f93\u51fa\u7684\u7f16\u8bd1\u3002","date":"2023-10-10T00:00:00.000Z","formattedDate":"2023\u5e7410\u670810\u65e5","tags":[],"readingTime":0.375,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"2023-10-21 Ant Deisgn \u6a21\u6001\u6846\u5185\u5d4c Form \u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0","permalink":"/blog/2023/10/21/ Ant Deisgn\u6a21\u6001\u6846\u5185\u5d4cForm\u7684\u521d\u59cb\u503c\u4e0d\u66f4\u65b0"},"nextItem":{"title":"contentEditable \u7684 div \u5143\u7d20\uff0c\u8ba9\u805a\u7126\u65f6\u5149\u6807\u5230\u6700\u540e","permalink":"/blog/2023/10/9/ contentEditable\u8ba9\u5149\u6807\u5230\u8f93\u5165\u6846\u6700\u540e"}},"content":"\u5728\u672c\u5730build\u9879\u76ee\u548cpreview\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u5728netlify\u90e8\u7f72\u5c31\u56e0\u4e3a\u8b66\u544a\u5bfc\u81f4\u4e86\u547d\u4ee4\u88ab\u4e2d\u65ad\uff0c\u90a3\u4e48\u5c31\u8981\u7528\u5230\u73af\u5883\u53d8\u91cf\u6765\u8ba9CI\u4e0d\u8fdb\u884c\u8f93\u51fa\u7684\u7f16\u8bd1\u3002\\n\\n### \u89e3\u51b3\u65b9\u6848\\n\u539f\u672c\u7684netlify\u7f16\u8bd1\u7684\u547d\u4ee4`npm run build`\uff0c\u4fee\u6539\u6210`CI=false npm run build`"},{"id":"/2023/10/9/ contentEditable\u8ba9\u5149\u6807\u5230\u8f93\u5165\u6846\u6700\u540e","metadata":{"permalink":"/blog/2023/10/9/ contentEditable\u8ba9\u5149\u6807\u5230\u8f93\u5165\u6846\u6700\u540e","source":"@site/blog/2023-10-9 contentEditable\u8ba9\u5149\u6807\u5230\u8f93\u5165\u6846\u6700\u540e.md","title":"contentEditable \u7684 div \u5143\u7d20\uff0c\u8ba9\u805a\u7126\u65f6\u5149\u6807\u5230\u6700\u540e","description":"\u8fd9\u662f\u5728React\u4e2d\u5199\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u6240\u4ee5\u7528\u4e86ref\u6765\u83b7\u53d6input\u3002","date":"2023-10-09T00:00:00.000Z","formattedDate":"2023\u5e7410\u67089\u65e5","tags":[],"readingTime":0.645,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"netlify \u90e8\u7f72\u8b66\u544a\u5bfc\u81f4 build \u4e2d\u65ad","permalink":"/blog/2023/10/10/ netlify\u90e8\u7f72\u8b66\u544a\u5bfc\u81f4build\u4e2d\u65ad"},"nextItem":{"title":" \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c","permalink":"/blog/2023/9/13/ \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c"}},"content":"```js\\nfunction focus() {\\n    const input = inputItemRef.current\\n    if (!input) return\\n\\n    input.innerText = initialValue === null ? \\"\\" : initialValue\\n    const range = window.getSelection()\\n    range?.selectAllChildren(input)\\n    range?.collapseToEnd()\\n}\\n```\\n\\n\u8fd9\u662f\u5728React\u4e2d\u5199\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u6240\u4ee5\u7528\u4e86ref\u6765\u83b7\u53d6input\u3002  \\n\\n**\u5176\u4e2d\u8ba9\u5149\u6807\u8dd1\u5230\u6700\u540e\u7684\u5173\u952e\u662f\uff0c`window.getSelection()`\u7684\u51fd\u6570\uff0c\u901a\u8fc7range\u6765\u627e\u5230\u6211\u4eec\u9700\u8981\u79fb\u52a8\u5149\u6807\u7684\u5143\u7d20\uff0c\u7136\u540e\u8c03\u7528collapseToEnd\u5c31\u53ef\u4ee5\u8ba9\u5149\u6807\u8dd1\u5230\u6700\u540e\u3002**\\n\\ncontentEditable\u548cinput\u5e76\u4e0d\u76f8\u540c\uff0c\u5982\u679c\u662finput\u5143\u7d20\uff0c\u53ef\u4ee5\u53bb\u8c03\u7528\u81ea\u8eab\u5143\u7d20\u4e0a\u9762\u7684\u51fd\u6570`selectionSetSelectionRange`\u6765\u8bbe\u5b9a\u3002"},{"id":"/2023/9/13/ \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c","metadata":{"permalink":"/blog/2023/9/13/ \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c","source":"@site/blog/2023-9-13 \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c.md","title":" \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c","description":"\u5728\u7f51\u9875\u4e2d\u6e32\u67d3\u4e00\u4e2a\u8868\u683c\uff0c\u57fa\u672c\u4e0a\u662f\u8fd9\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u662f\u91c7\u7528\u539f\u751f\u7684table\u6807\u7b7e\uff0c\u4e8c\u662f\u901a\u8fc7div\u6807\u7b7e+contenteditable\u5c5e\u6027\u6765\u3002","date":"2023-09-13T00:00:00.000Z","formattedDate":"2023\u5e749\u670813\u65e5","tags":[],"readingTime":13.2,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"contentEditable \u7684 div \u5143\u7d20\uff0c\u8ba9\u805a\u7126\u65f6\u5149\u6807\u5230\u6700\u540e","permalink":"/blog/2023/10/9/ contentEditable\u8ba9\u5149\u6807\u5230\u8f93\u5165\u6846\u6700\u540e"},"nextItem":{"title":" passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a","permalink":"/blog/2023/9/1/ passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a"}},"content":"\u5728\u7f51\u9875\u4e2d\u6e32\u67d3\u4e00\u4e2a\u8868\u683c\uff0c\u57fa\u672c\u4e0a\u662f\u8fd9\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u662f\u91c7\u7528\u539f\u751f\u7684**table\u6807\u7b7e**\uff0c\u4e8c\u662f\u901a\u8fc7**div\u6807\u7b7e+contenteditable\u5c5e\u6027**\u6765\u3002\\n\\n## 1. \u539f\u751ftable\u6807\u7b7e\u548cdiv\u6807\u7b7e\u7684\u5bf9\u6bd4\\n### table\u6807\u7b7e\\n\u539f\u751ftable\u6807\u7b7e\u80fd\u591f\u5f88\u65b9\u4fbf\u7684\u53bb\u6e32\u67d3\u51fa\u8868\u683c\uff0c\u53ea\u9700\u8981\u6309\u7167table\u6807\u7b7e\u7684\u89c4\u8303\u6765\u586b\u5145\u6570\u636e\u3002\\n\\n\u5982\u679c\u6211\u4eec\u8981\u4fee\u6539\u5b83\u7684\u6837\u5f0f\uff0c\u8981\u901a\u8fc7css\u6765\u4fee\u6539\u6bcf\u4e00\u4e2a\u90e8\u5206\u5bf9\u5e94\u7684\u6807\u7b7e\u7684css\u5c5e\u6027\u3002\u4f8b\u5982`th`,`td`,`td`\u6807\u7b7e\u7b49\u7b49\u3002\\n\\n### div\u5b9e\u73b0\uff08div\u4ee3\u6307\u5176\u4ed6\u6807\u7b7e\uff09\\n\u4fd7\u8bdd\u8bf4\uff0c\u4e07\u7269\u7686\u53efdiv\u3002\u53ea\u8981\u6211\u4eec\u6e32\u67d3\u903b\u8f91\u5199\u7684\u7f1c\u5bc6\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u53bb\u901a\u8fc7div\u53bb\u5b9e\u73b0\u4e00\u5957\u89c6\u89c9\u53cb\u597d\uff0c\u751a\u81f3\u80fd\u591f\u7b26\u5408html5\u7684\u65e0\u969c\u788d\u89c4\u8303\u7b49\u7b49\u7684\u8868\u683c\u7ec4\u4ef6\u51fa\u6765\u3002\\n\\n### \u5982\u4f55\u9009\u62e9\\n\u7528table\u6bd5\u7adf\u662f\u5df2\u7ecf\u5c01\u88c5\u597d\u7684\u539f\u751f\u7684\u7ec4\u4ef6\uff0c\u6240\u4ee5\u96be\u514d\u4f1a\u9047\u5230\u4e00\u4e9b\u4e0d\u597d\u89e3\u51b3\u7684\uff0c\u5177\u6709\u5c40\u9650\u6027\u7684\u914d\u7f6e\u7b49\u3002\u5c31\u6bd4\u5982\u8bf4\uff0c\u8868\u683c\u4e2d\u6bcf\u4e00\u4e2a\u5143\u7d20\u7684\u8fb9\u6846\uff0c\u4f1a\u4ea7\u751f\u4e00\u4e9b\u91cd\u53e0\uff0c\u5bfc\u81f4\u5185\u5c42\u7684\u8fb9\u6846\u6bd4\u5916\u5c42\u7684\u8fb9\u6846\u7c97\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7table\u63d0\u4f9b\u7684`border-collapse`\u53bb\u5b9e\u73b0\u5185\u5916\u8fb9\u6846\u7c97\u7ec6\u4e00\u81f4\u3002\u8fd8\u6709\u6211\u4eec\u60f3\u5b9a\u5236\u8fd9\u4e2a\u8868\u683c\u7684\u5143\u7d20\u7684\u65f6\u5019\uff0c\u4f1a\u53d1\u73b0\u4ecd\u7136\u6709\u5f88\u591a\u5c40\u9650\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5143\u7d20\u90fd\u5df2\u7ecf\u88ab\u89c4\u8303\u5e94\u8be5\u662f\u4ec0\u4e48\u6837\u7684\u4f4d\u7f6e\u7b49\uff0c\u6240\u4ee5\u60f3\u8981\u5728\u5143\u7d20\u4e2d\u5d4c\u5165\u4e00\u4e9b\u81ea\u5b9a\u4e49\u7684\u5143\u7d20\uff0c\u5c31\u8981\u82b1\u66f4\u591a\u7684\u4e8b\u4ef6\u53bb\u8003\u8651\u9700\u8981\u600e\u4e48\u5d4c\u5165\u3002  \\n\\n\u4e0a\u8ff0\u6240\u8bf4\u7684\u95ee\u9898\u5728\u5f88\u591a\u573a\u666f\u4e0b\u6ca1\u6709\u5927\u788d\uff0c\u4f46\u662f\u5728\u4e00\u4e9b\u7ec4\u4ef6\u5e93\u4e2d\uff0c\u6216\u8005\u5728\u9ad8\u5ea6\u5b9a\u5236\u7684\u8868\u683c\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u7528\u539f\u751f\u7684table\u6807\u7b7e\u5e76\u4e0d\u6709\u5229\u3002\u6240\u4ee5\u5728\u5f88\u591a\u9879\u76ee\u4f8b\u5982`\u817e\u8baf\u8868\u683c`\uff0c\u6ca1\u6709\u7528\u539f\u751f\u7684table\u8868\u683c\u6765\u5b9e\u73b0\uff0c\u800c\u662f\u901a\u8fc7div\u7b49\u6807\u7b7e\u6765\u5b9e\u73b0\u7684\u3002\\n\\n\u90a3\u4e48\u7528div\u80fd\u6709\u4ec0\u4e48\u597d\u5904\uff1f\u9996\u5148\u4e0a\u8ff0\u539f\u751ftable\u663e\u9732\u51fa\u6765\u7684\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\uff0c\u6211\u4eec\u7684\u6e32\u67d3\u903b\u8f91\u90fd\u5c40\u9650\u5728\u4e86table\u6807\u7b7e\u7684\u89c4\u8303\u4e2d\u53bb\u4e86\uff0c\u6240\u6709\u7684\u5143\u7d20\u90fd\u88ab\u89c4\u8303\u5c40\u9650\u4e86\u6e32\u67d3\u903b\u8f91\u3002\u5f88\u65b9\u4fbf\u7684\u6e32\u67d3\u51fa\u4e00\u4e2a\u8868\u683c\uff0c\u4f46\u95ee\u9898\u603b\u662f\u5728\u540e\u671f\u9047\u5230\u3002\u90a3\u4e48\u6211\u4eec\u4f55\u4e0d\u53bb\u5c01\u88c5\u4e00\u5957\u66f4\u597d\u7684\u8868\u683c\u6e32\u67d3\u903b\u8f91\uff0c\u6216\u8005\u8bf4\u662f\u4e00\u5957\u7b26\u5408\u9ad8\u5ea6\u81ea\u5b9a\u4e49\u7684\u573a\u666f\uff0c\u540c\u6837\u66b4\u9732\u51fa\u548c\u539f\u751ftable\u6807\u7b7e\u6240\u4e00\u81f4\u7684api\u7b49\u7b49\uff0c\u4f46\u6b64\u57fa\u7840\u4e0a\u8fd8\u66b4\u9732\u51fa\u4e86\u66f4\u591a\u7684\u81ea\u5b9a\u4e49\u7684api\uff0c\u5c31\u50cf\u6240\u8bf4\u7684\u5d4c\u5165\u5143\u7d20\u7b49\u7684api\u3002\\n\\n## 2. div\u7684\u6e32\u67d3\u8bbe\u8ba1\\n\u8981\u5b9e\u73b0\u4e00\u4e2a\u8868\u683c\uff0c\u6700\u7ec8\u8981\u7684\u662f\u6e32\u67d3\u51fa\u8868\u683c\u7684\u6846\u67b6\uff0c\u5176\u6b21\u5c31\u662f\u5b9e\u73b0\u8868\u683c\u7684\u5185\u5bb9\u7f16\u8f91\u7684\u529f\u80fd\uff0c\u540e\u9762\u5c31\u662f\u5bf9\u5355\u5143\u683c\u7684\u4e00\u4e9b\u64cd\u4f5c\uff0c\u4ee5\u53ca\u9002\u5e94\u5c4f\u5e55\u7684\u903b\u8f91\u7b49\u3002\\n\\n### 1. \u751f\u6210\u9a71\u52a8\u89c6\u56fe\u7684\u6570\u636e\\n\u8868\u683c\uff0c\u9996\u5148\u6700\u5bb9\u6613\u60f3\u5230\u7684\u662f\u7528\u4e8c\u7ef4\u6570\u7ec4\u6765\u5b9e\u73b0\uff0c\u4e8c\u7ef4\u6570\u7ec4\u7684\u7b2c\u4e00\u7ef4\u6570\u636e\u6765\u6e32\u67d3\u6bcf\u4e00\u884c\uff0c\u5c06\u6bcf\u4e00\u884c\u90fd\u6e32\u67d3\u51fa\u6765\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u8868\u683c\u3002\\n\\narr: `[[ ,A,B,C],[1,A1,B1,C1],[2,A2,B2,C2]]`\\n\\n|        |   A   |   B   |   C   |\\n|  ----  | ----  | ----  | ----  |\\n| 1      |   A1  |   B1  |   C1  |\\n| 2      |   A2  |   B2  |   C2  |\\n\\n\u5c31\u50cf\u4e0a\u9762\u8fd9\u6837\u5bf9\u5e94\u8d77\u6765\uff0carr\u662f\u6700\u539f\u59cb\u7684\u6e32\u67d3\u6570\u7ec4\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u8868\u5934\u7684\u6570\u636e\u3002\u5728arr[0]\u4e2d\u662f`[,A,B,C..]`\uff0c\u7b2c\u4e00\u4e2a\u662f`undefined`\uff0c\u6240\u4ee5\u5728\u540e\u9762\u7684\u903b\u8f91\u4e2d\u6e32\u67d3\u51fa\u6765\u7684\u662f\u7a7a\u767d\u3002*\u662f\u5426\u4e00\u4e2a\u8868\u683c\u6570\u636e\u5e94\u8be5\u5305\u542b\u8868\u5934\u6570\u636e\uff1f\u6211\u8ba4\u4e3a\u6700\u539f\u59cb\u6570\u7ec4\u6700\u597d\u4fdd\u7559\u6240\u6709\u7684\u6570\u636e\uff0c\u5728\u540e\u9762\u7684\u6e32\u67d3\u4e2d\u8fdb\u884c\u903b\u8f91\u6392\u9664\u5904\u7406\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u505a\u6cd5\u3002*\\n\\n### 2. \u6839\u636e\u6570\u636e\u6765\u6e32\u67d3\u8868\u683c\\n\u6570\u636e\u5df2\u7ecf\u88ab\u5206\u4e3a\u4e86\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\uff0c\u90a3\u4e48\u6211\u4eec\u628a\u6bcf\u4e00\u7ef4\u5f53\u884c\uff0c\u6bcf\u4e00\u7ef4\u4e2d\u7684\u6bcf\u4e00\u9879\u5f53\u5217\u5373\u53ef\u3002\u90a3\u4e48\u901a\u8fc72\u5c42\u4e8c\u7ef4\u6e32\u67d3\u5c31\u53ef\u4ee5\u6210\u529f\u6e32\u67d3\u51fa\u6765\u3002**\u5176\u4e2d\u9700\u8981\u505a\u7684\u91cd\u8981\u5904\u7406\u5c31\u662f\u5bf9\u7a7a\u6570\u636e\u7684\u5904\u7406\uff0c\u5982\u679c\u4e3a\u7a7a\u7684\u65f6\u5019\u6211\u4eec\u4e0d\u80fd\u5355\u7eaf\u7684\u4e0d\u6e32\u67d3\u8fd9\u4e2a\u5143\u7d20\uff0c\u5426\u5219\u8fd9\u4e2a\u5355\u5143\u683c\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u4e0d\u4f1a\u88ab\u6491\u8d77\u6765\u3002\u6211\u4eec\u9700\u8981\u5bf9\u5b83\u505a\u6807\u8bb0\uff0c\u5728css\u7684\u5904\u7406\u4e0a\u8981\u9488\u5bf9\u6027\u5904\u7406\u3002**\\n\\n### 3. \u7f16\u5199\u8868\u683c\u7684\u6837\u5f0f\\n\u5982\u679c\u6211\u4eec\u5355\u72ec\u4e3a\u6bcf\u4e2a\u5355\u5143\u683c\u90fd\u7f16\u5199\u4e0a\u4e0b\u5de6\u53f3\u7684\u8fb9\u6846\uff0c\u90a3\u5c31\u4f1a\u51fa\u73b0\u8fb9\u6846\u91cd\u53e0\u7684\u95ee\u9898\uff0c\u5185\u90e8\u7684\u5bbd\u5ea6\u6bd4\u5916\u56f4\u7684\u5bbd\u5ea6\u7c97\uff0c\u5e76\u4e14\u8868\u683c\u4e5f\u51fa\u73b0\u4e86\u4e0d\u5bf9\u5176\u7684\u95ee\u9898\u3002\\n\\n\u8981\u89e3\u51b3\u8fb9\u6846\u7c97\u7ec6\u4e00\u81f4\uff0c\u5728\u6e32\u67d3\u7684\u65f6\u5019\u91c7\u53d6\u4e00\u5b9a\u7684\u63aa\u65bd\uff0c\u5c31\u662f**\u6309\u4e00\u4e2a\u65b9\u5411\u53bb\u6e32\u67d3\u8868\u683c\u7684\u8fb9\u6846**\u3002\u6bd4\u5982\u8bf4\uff0c\u53ea\u6e32\u67d3\u8868\u683c\u7684\u53f3\u8fb9\u548c\u4e0b\u8fb9\u7684\u8fb9\u6846\uff0c\u6700\u540e\u6e32\u67d3\u51fa\u6765\u7684\u7ed3\u679c\u5c31\u662f\u6ca1\u6709\u4efb\u4f55\u7684\u5355\u5143\u683c\u8fb9\u6846\u88ab\u91cd\u53e0\uff0c\u4f46\u662f\u7b2c\u4e00\u5217\u548c\u7b2c\u4e00\u884c\u7684\u5de6\u8fb9\u6846\u6216\u4e0a\u8fb9\u6846\u6ca1\u6709\u88ab\u6e32\u67d3\u51fa\u6765\u3002\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u9488\u5bf9\u7b2c\u4e00\u884c\u548c\u7b2c\u4e00\u5217\uff0c\u989d\u5916\u5bf9\u5b83\u4eec\u8bbe\u7f6e\u5de6\u8fb9\u548c\u4e0a\u8fb9\u7684\u8fb9\u6846\u7684\u6e32\u67d3\u3002\u8fd9\u6837\u5c31\u8fbe\u6210\u4e86\u4e00\u4e2a\u8fb9\u6846\u7c97\u7ec6\u4e00\u81f4\u7684\u8868\u683c\u3002\\n\\n### 3.5 \u8fb9\u6846\u6e32\u67d3\u51fa\u73b0\u7684\u95ee\u9898**\\n\u901a\u8fc7\u7ed9\u6bcf\u4e00\u4e2adiv\u5355\u5143\u683c\u8bbe\u7f6e\u8fb9\u6846\uff0c\u56e0\u4e3a**\u7b2c\u4e00\u884c\u548c\u7b2c\u4e00\u5217\u7684\u8fb9\u6846\u6e32\u67d3\u8fb9\u6846\u903b\u8f91\u4e0d\u4e00\u81f4\uff0c\u6240\u4ee5\u8fd9\u4e9b\u76d2\u5b50\u5728\u5185\u5bb9\u4e0a\u7684\u5c3a\u5bf8\u4e0d\u4e00\u81f4\u3002**\u4f8b\u5982\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6bcf\u4e00\u4e2a\u5355\u5143\u683c\u7684\u5bbd\u5ea6\u662f100px\uff0c\u9ad8\u5ea6\u662f30px\uff0c\u8fb9\u6846\u5bbd\u5ea6\u4e3a1px\uff0c\u90a3\u4e48**\u5927\u591a\u6570\u5355\u5143\u683c\u8fb9\u6846\u6e32\u67d3\u540e\u7684\u5c3a\u5bf8\u53d8\u6210\u4e8699px\u548c29px\uff0c\u800c\u7b2c\u4e00\u884c\u548c\u7b2c\u4e00\u5217\u53d8\u6210\u4e8698px\u548c28px\u3002**\u6216\u8bb8\u4f60\u4f1a\u8bf4\uff0c`box-sizing`\u53ef\u4ee5\u8ba9\u5b83\u4eec\u7684\u5185\u5bb9\u5c3a\u5bf8\u4fdd\u6301\u4e00\u81f4\uff0c\u4f46\u662f\u5185\u5bb9\u4fdd\u6301\u4e00\u81f4\u4e86\u76d2\u5b50\u603b\u4f53\u5bbd\u5ea6\u8fd8\u4e00\u81f4\u5417\uff1f\u663e\u7136\u4e0d\u4e00\u81f4\u3002 \u90a3\u4e48\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u8fd0\u7528\u5230\u4e86**\u4f2a\u5143\u7d20\u6765\u6e32\u67d3\u8868\u683c\u8fb9\u6846\u3002**\\n\\n\\n### 4. \u8868\u683c\u6837\u5f0f\u6539\u826f - \u4f2a\u5143\u7d20\\n\u4f2a\u5143\u7d20\u7684\u4e00\u4e2a\u7279\u70b9\u5c31\u662f\u4e0d\u4f1a\u5360\u636e\u6587\u6863\u6d41\u4f4d\u7f6e\uff0c\u4e0d\u4f1a\u5bf9\u76d2\u5b50\u4ea7\u751f\u4efb\u4f55\u7684\u5bbd\u9ad8\u4e0a\u7684\u5f62\u53d8\u7b49\u3002\u7528\u4f2a\u5143\u7d20\u4e4b\u540e\uff0c**\u6211\u4eec\u7684\u8868\u683c\u5c31\u53ef\u4ee5\u7b80\u5355\u7684\u6e32\u67d3\u6210100px\uff0c30px\u7684\u5c3a\u5bf8\uff0c\u800c\u4e0d\u8003\u8651\u5bbd\u5ea6\u3002\u8fd9\u65f6\u5019\u8fd9\u4e9b\u5355\u5143\u683c\u6ca1\u6709\u4efb\u4f55\u7684\u8fb9\u6846\uff0c\u63a5\u4e0b\u6765\u8981\u501f\u52a9\u4f2a\u5143\u7d20\u6765\u6e32\u67d3\u8fb9\u6846\u3002**\u901a\u8fc7\u4f2a\u5143\u7d20\u6e32\u67d3\u8fb9\u6846\u5c31\u53ef\u4ee5\u7b80\u5355\u7684\u8bbe\u7f6e100%\u5bbd\u9ad8\u6765\u8ba9\u4f2a\u5143\u7d20\u94fa\u6ee1100px\u548c30px\u7684div\uff0c\u7136\u540e\u540c\u6837\u662f\u6309\u4e00\u4e2a\u65b9\u5411\u6765\u6e32\u67d3\u4e4b\u524d\u7684\u8868\u683c\uff0c\u4f46\u662f\u8fd9\u4e00\u6b21\u7684\u7ed3\u679c\u662f\u6e32\u67d3\u5b8c\u8868\u683c\u4e4b\u540e\uff0c**\u6240\u6709\u5355\u5143\u683c\u7684\u5c3a\u5bf8\u4ecd\u7136\u662f100px\u548c30px\u3002**\\n\\n### 5. \u5b9e\u73b0\u5185\u5bb9\u7684\u7f16\u8f91**\\n\u5728div\u4e2d\u8981\u5b9e\u73b0\u5185\u5bb9\u7684\u7f16\u8f91\uff0c\u6211\u4eec\u5c31\u9700\u8981\u501f\u52a9`contenteditable`\u5c5e\u6027\uff0c\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\u4e4b\u540e\u7684div\u5728\u88ab\u70b9\u51fb\u4e4b\u540e\u5c31\u4f1a\u53d8\u6210\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u8f93\u5165\u5185\u5bb9\u3002\\n\\n\u8fd9\u4e2a\u5c5e\u6027\u7684\u7f16\u8f91\u5728\u751f\u6548\u540e\uff0c\u6211\u4eec\u8981\u5b9e\u73b0\u8ba9\u7f16\u8f91\u7684\u6700\u65b0\u7684\u5185\u5bb9\u5199\u5165\u5230state\u4e2d\uff0c\u7136\u540e\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3\u3002\u68b3\u7406\u4e00\u4e0b\u5b8c\u6574\u7684\u7f16\u8f91\u903b\u8f91\u5c31\u662f\uff1a\\n\\n**1. \u6b63\u5e38\u901a\u8fc7state\u6700\u539f\u59cb\u7684\u7a7a\u6570\u7ec4\u6e32\u67d3\u51fa\u7a7a\u767d\u7684\u5355\u5143\u683c**\\n\\n**2. \u5355\u5143\u683c\u88ab\u70b9\u51fb\uff0c\u7f16\u8f91\u5185\u5bb9**\\n\\n**3. \u5355\u5143\u683c\u4e0a\u9762\u7684input\u4e8b\u4ef6\u88ab\u89e6\u53d1\uff0c\u56de\u8c03\u51fd\u6570\u4e2d\u5b9e\u73b0\u83b7\u53d6\u6700\u65b0\u8f93\u5165\u7684\u5185\u5bb9\uff0c\u7136\u540e\u66f4\u65b0state**\\n\\n**4. state\u4e2d\u5bf9\u5e94\u5355\u5143\u683c\u7d22\u5f15\u7684\u6570\u636e\u6539\u53d8\uff0c\u6700\u65b0\u6e32\u67d3\u5355\u5143\u683c\u4e2d\u5185\u5bb9\u6539\u53d8**\\n\\n----\\n\u770b\u8d77\u6765\u6e32\u67d3\u903b\u8f91\u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u662f\u5728\u7b2c3\u70b9\u5230\u7b2c4\u70b9\uff0c\u4e5f\u5c31\u662f\u91cd\u65b0\u6e32\u67d3\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u8f93\u5165\u6846\u4e00\u76f4\u5728\u89e6\u53d1\u8f93\u5165\uff0c\u6e32\u67d3\u4e5f\u5728\u88ab\u4e00\u76f4\u91cd\u65b0\u89e6\u53d1\uff0c\u90a3\u4e48\u662f\u4e0d\u662f\u4f1a\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c**\u5c31\u662f\u6211\u4eec\u8f93\u5165\u7684\u5185\u5bb9\u56e0\u4e3a\u91cd\u65b0\u6e32\u67d3\u800c\u6d88\u5931\uff0c\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u7b49\uff1f \u800c\u6211\u51fa\u73b0\u7684\u95ee\u9898\u5b9e\u9645\u4e0a\u662f\u51fa\u73b0\u6bcf\u6b21\u8f93\u5165\u5149\u6807\u90fd\u4f1a\u8dd1\u5230\u6700\u524d\u9762**\\n\\n\u4e3a\u4e86\u89e3\u51b3\u8fd9\u6837\u7684\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u8981**\u8ba9\u8f93\u5165\u548c\u6e32\u67d3\u5185\u5bb9\u7684\u5bb9\u5668\u88ab\u533a\u5206\u5f00**\uff0c\u4f46\u662f\u8ba9\u51e0\u4e2adiv\u53e0\u52a0\u5230\u5355\u5143\u683c\u4e0a\uff0c\u70b9\u51fb\u5355\u5143\u683c\u5b9e\u9645\u89e6\u53d1\u7684\u662f\u53e6\u5916\u7684\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u4f46\u662f\u8fd9\u6837\u5355\u5143\u683c\u4f1a\u53d8\u5f97\u5c42\u7ea7\u6bd4\u8f83\u590d\u6742\uff0c\u53ef\u80fd\u4f1a\u66f4\u5bb9\u6613\u51fa\u73b0bug\u3002\u6211\u5c31\u60f3**\u80fd\u4e0d\u80fd\u7528\u9632\u6296\u6765\u5b9e\u73b0\uff0c\u4e5f\u5c31\u662f\u8f93\u5165\u5185\u5bb9\u7684\u65f6\u5019\u5e76\u4e0d\u7acb\u523b\u53bb\u91cd\u65b0\u6e32\u67d3\uff0c\u800c\u662f\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u3002**\u4e8b\u5b9e\u4e0a\uff0c\u5e76\u4e0d\u80fd\u884c\u5f97\u901a\uff0c\u56e0\u4e3a\u5982\u679c\u5728\u8f93\u5165\u9636\u6bb5\u505c\u4e0b\u6765\u5f15\u8d77\u4e86\u9632\u6296\u51fd\u6570\u7684\u6267\u884c\uff0c\u90a3\u4e48\u4ecd\u7136\u4f1a\u91cd\u65b0\u6267\u884c\uff0c\u5149\u6807\u4ecd\u7136\u4f1a\u8dd1\u5230\u6700\u524d\u9762\u3002 \\n\\n\u53c2\u8003\u4e86\u4e00\u4e9b\u5355\u5143\u683c\u7684\u4ea7\u54c1\uff0c\u6211\u89c9\u5f97\u5728\u8fd9\u4e0a\u9762\u505a\u4e00\u4e2a\u59a5\u534f\u4e5f\u662f\u884c\u5f97\u901a\u7684\uff0c\u5c31\u662f\u5728**\u5355\u5143\u683c\u8fdb\u884c\u5931\u7126\u7684\u65f6\u5019\u518d\u6765\u91cd\u65b0\u6e32\u67d3\u3002**\u5728\u540e\u671f\u4e5f\u53ef\u4ee5\u5728\u6570\u636e\u7684\u4fdd\u62a4\u4e0a\u66f4\u4e0b\u529f\u592b\u3002\\n\\n### 6. \u5b9e\u73b0\u5355\u5143\u683c\u9009\u4e2d\u7684\u9ad8\u4eae\u8fb9\u6846\\n\u5b9e\u73b0\u9ad8\u4eae\u8fb9\u6846\uff0c\u4fee\u6539\u5355\u5143\u683c\u7684\u4f2a\u5143\u7d20\u7684\u8fb9\u6846\u4e0d\u592a\u73b0\u5b9e\uff0c\u8fd9\u6837\u4e5f\u53ef\u80fd\u9020\u6210\u66f4\u591a\u7684\u5143\u7d20\u7684\u5c5e\u6027\u7684\u4fee\u6539\uff0c\u5bf9\u6027\u80fd\u53ef\u80fd\u4e0d\u592a\u6709\u5229\u3002\u6240\u4ee5\u6700\u597d\u662f\u5355\u72ec\u7528\u4e00\u4e2adiv\u6765\u5b9e\u73b0\uff0c\u800c\u8868\u683c\u7684\u5c3a\u5bf8\u548c\u4f4d\u7f6e\u90fd\u901a\u8fc7\u5143\u7d20\u7684\u8ba1\u7b97\u6765\u5b9e\u73b0\u3002 \u6bd4\u5982\u6211\u70b9\u51fb\u4e86\u4e00\u4e2arow\u7d22\u5f15\u4e3a10\uff0ccolumn\u7d22\u5f15\u4e3a8\u7684\u5355\u5143\u683c\uff0c\u90a3\u4e48**\u6839\u636e\u8fd9\u4e00\u4e2a\u5355\u5143\u683c\u7d22\u5f15\u7ed3\u5408\u6bcf\u4e00\u4e2a\u5355\u5143\u683c\u7684\u5c3a\u5bf8\u914d\u7f6e\u6570\u636e\uff0c\u6765\u8ba1\u7b97\u51fa\u5355\u5143\u683c\u9700\u8981\u504f\u79fb\u591a\u5c11\u4e2a\u50cf\u7d20\uff0c\u5bbd\u5ea6\u9ad8\u5ea6\u662f\u591a\u5c11\u3002**\u9009\u4e2d\u591a\u4e2a\u5355\u5143\u683c\u4e5f\u662f\u5982\u6b64\uff0c\u65e0\u975e\u5c31\u662f\u591a\u8ba1\u7b97\u51e0\u4e2a\u5355\u5143\u683c\u7684\u5c3a\u5bf8\u3002\\n\\n### 7. \u5b9e\u73b0\u5355\u5143\u683c\u7684\u4f38\u7f29\u548c\u865a\u62df\u5217\u8868\u9002\u5e94\u5168\u5c4f\u7b49\\n\u4e0a\u9762\u5df2\u7ecf\u8bf4\u660e\u4e86\u8fd9\u4e2a\u8868\u683c\u662f\u5982\u4f55\u901a\u8fc7\u6570\u636e\u53bb\u9a71\u52a8\u6574\u4e2a\u89c6\u56fe\u7684\u6e32\u67d3\u7684\uff0c\u90a3\u4e48\u8981\u505a\u5355\u5143\u683c\u7684\u4f38\u7f29\u7b49\uff0c\u4ececss\u7684\u6e32\u67d3\u4e0a\u5165\u624b\u5373\u53ef\u3002\\n\\n\u6839\u636e\u4e00\u4e2a\u914d\u7f6e\uff0c\u8ba1\u7b97\u51fa\u8fd9\u4e2a\u914d\u7f6e\u5bf9\u54ea\u4e9b\u7d22\u5f15\u7684\u8868\u683c\u5c3a\u5bf8\u8fdb\u884c\u4e86\u4fee\u6539\uff0c\u7136\u540e\u5728\u6ce8\u5165css\u5c5e\u6027\u7684\u65f6\u5019\u6839\u636e\u8fd9\u4e2a\u8ba1\u7b97\u8fdb\u884c\u52a8\u6001\u7684\u6539\u53d8\uff0c\u6211\u89c9\u5f97\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u5f00\u653e\u7684\u529f\u80fd\uff0c\u6ca1\u6709\u5f88\u591a\u9700\u8981\u7279\u522b\u5f3a\u8c03\u7684\u70b9\uff0c\u5982\u679c\u8981\u8fdb\u884c\u4f18\u5316\u6027\u80fd\uff0c\u65e0\u975e\u662f\u9488\u5bf9\u5927\u91cf\u6570\u636e\u7684\u573a\u666f\u4e0b\u8868\u683c\u5c3a\u5bf8\u8ba1\u7b97\u7684\u7b97\u6cd5\u901f\u5ea6\u548c\u7a7a\u95f4\u5360\u7528\u7b49\u3002\\n\\n\u865a\u62df\u5217\u8868\u8fd9\u4e9b\uff0c\u4e5f\u90fd\u662f\u90a3\u6837\u7684\u65b9\u6848\uff0c\u9488\u5bf9\u573a\u666f\u505a\u505a\u8c03\u6574\u5373\u53ef\u3002"},{"id":"/2023/9/1/ passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a","metadata":{"permalink":"/blog/2023/9/1/ passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a","source":"@site/blog/2023-9-1 passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a.md","title":" passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a","description":"styled-components \u662f\u7528\u4e8e react \u7684\u4e00\u4e2a css in js \u7684\u5e93\u3002","date":"2023-09-01T00:00:00.000Z","formattedDate":"2023\u5e749\u67081\u65e5","tags":[],"readingTime":5.695,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":" \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c","permalink":"/blog/2023/9/13/ \u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u6e32\u67d3\u8868\u683c"},"nextItem":{"title":" \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5","permalink":"/blog/2023/8/30/ \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5"}},"content":"styled-components \u662f\u7528\u4e8e react \u7684\u4e00\u4e2a css in js \u7684\u5e93\u3002\\n\\n\u4e0b\u9762\u662f\u4e00\u4e2a styled-components \u521b\u5efa\u7684\u4e00\u4e2a css in js \u7684\u7ec4\u4ef6\u3002\\n\\n```js\\n<Styled borderColor={\\"red\\"}>{item}</Styled>\\n```\\n\\n## 1. Passing props\\n\\n[React - Passing props](https://zh-hans.react.dev/learn/passing-props-to-a-component)\\n\\n[Styled-components - Passed props](https://styled-components.com/docs/basics#passed-props)\\n\\n\u5728 React \u4e2d\u7684 passing props \u548c styled-components \u7684 passed props\uff0c\u90fd\u662f\u5bf9 props \u4f20\u9012\u7684\u5904\u7406\u3002\\n\\n\u5bf9\u4e8e\u6807\u51c6\u7684 html \u6807\u7b7e\u548c JSX \u7684\u6807\u7b7e\uff0c\u4f20\u9012 props \u7684\u65f6\u5019\u9020\u6210\u7684\u7ed3\u679c\u662f\u4e0d\u4e00\u6837\u7684\u3002\\n\\n\u5982\u679c\u662f**\u6807\u51c6\u7684 html \u6807\u7b7e**\uff0c\u4f8b\u5982\u4e00\u4e2a`img`\u6807\u7b7e\uff0c**\u4f20\u9012\u7684`width`\u3001`height`\u751a\u81f3`className`\uff08className \u662f react \u7b26\u5408 html \u6807\u51c6\u7684\u5c5e\u6027\uff0c\u4f1a\u88ab\u6ce8\u5165\u6210 class\uff09\u90fd\u4f1a\u88ab\u76f4\u63a5\u4f20\u9012\u5230 dom \u4e2d\u3002**\u4e5f\u5c31\u662f\u8bf4\u6700\u540e\u5728\u9875\u9762\u4e0a\u68c0\u67e5\u5143\u7d20\u6807\u7b7e\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u8fd9\u4e9b property\u3002\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837\\n\\n```html\\n<img width=\\"100\\" class=\\"xxx\\" />\\n```\\n\\n\u4f46\u662f\u662f\u4e00\u4e2a React \u7684 JSX \u7ec4\u4ef6\uff0c\u6211\u4eec\u5728\u8fd9\u4e2a\u7ec4\u4ef6\u4e0a\u4f20\u9012 props\uff0c\u8fd9\u4e2a props \u5c31\u662f\u5c5e\u4e8e\u8fd9\u4e2a react \u7684\u7ec4\u4ef6\uff0c\u5e76\u4e0d\u4f1a\u6ce8\u5165\u5230\u4efb\u4f55\u7684 html \u6807\u7b7e\u4e0a\uff0c\u56e0\u4e3a\u8fd9\u5c31\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u51fd\u6570\u7684\u53c2\u6570\u3002\\n\\n## 2. styled-components \u4e2d\u7684\u53c2\u6570\u4f20\u9012\\n\\n### \u7f16\u5199\u7ec4\u4ef6\\n\\n**\u4f46\u662f\u5728 styled-components \u4e2d\uff0c\u4f1a\u56e0\u4e3a\u7ec4\u4ef6\u521b\u5efa\u7684\u903b\u8f91\u4ea7\u751f\u4e0d\u540c\u7684\u7ed3\u679c\u3002**\u6211\u4eec\u4f1a\u901a\u8fc7`styled.div`\u4e4b\u7c7b\u7684\u53bb\u521b\u5efa\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u901a\u8fc7`styled-components`\u521b\u5efa\u51fa\u4e00\u4e2a React \u7684\u7ec4\u4ef6\uff0c\u4f46\u662f\u6709\u4e9b\u65f6\u5019\u6211\u4eec\u4f1a\u5bf9\u8fd9\u4e2a\u7ec4\u4ef6\u8fdb\u884c\u53c2\u6570\u7684\u4f20\u9012\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u79cd\u60c5\u51b5\u3002\\n\\n```js\\n//\u8fd9\u53ea\u662f\u5176\u4e2d\u7684\u4e00\u79cd\u4f20\u53c2\u7684\u5199\u6cd5\\nconst Component =\\n    styled.div <\\n    { customColor: string } >\\n    (({ customColor }) => {\\n        return css`\\n            height: 100px;\\n            color: ${customColor};\\n        `\\n    })\\n```\\n\\n### \u7ec4\u4ef6\u4f20\u53c2\\n\\n\u6b64\u65f6\u6211\u4eec\u8981\u5bf9\u8fd9\u4e2a\u7ec4\u4ef6\u53ca\u8fdb\u884c\u4f20\u53c2\uff0c\u4f20\u53c2\u7684\u65b9\u5f0f\u662f\u548c React \u4e00\u6837\u7684\u3002\\n\\n```js\\nconst ReactComponent:React.FC<...> = () => {\\n\\n    return (\\n        <Component customColor={\\"red\\"}/>\\n    )\\n}\\n```\\n\\n### \u6700\u7ec8\u6e32\u67d3 dom \u7684\u7ed3\u679c\\n\\n\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\u8fdb\u884c\u4f20\u53c2\u4e4b\u540e\uff0c\u5728\u9875\u9762\u4e2d\u68c0\u67e5\u5143\u7d20\u4f1a\u53d1\u73b0\uff0cdiv \u6807\u7b7e\u4e0a\u9762\u51fa\u73b0\u4e86\u4e00\u4e2a customcolor=\\"red\\"\uff08\u6ce8\u610f \u5927\u9a7c\u5cf0\u88ab\u6539\u6210\u4e86\u5168\u5c0f\u5199\u3002\\n\\n```html\\n<div class=\\"sc-xxxx\\" customcolor=\\"red\\"></div>\\n```\\n\\nstyled-components \u8fd8\u4f1a\u8fdb\u884c\u4e0b\u9762\u7684\u4e00\u4e2a\u63d0\u793a\u7684\u8b66\u544a\u3002\\n\\n> React does not recognize the `customColor` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `customcolor` instead. If you accidentally passed it from a parent component, remove it from the DOM element.\\n\\n**\u6211\u4eec\u7684\u9884\u671f\u662f\u6700\u7ec8\u5728\u9875\u9762\u4e2d\u6e32\u67d3\u7ed3\u679c\u5982\u4e0b**\\n\\n```html\\n<div class=\\"sc-xxxx\\" />\\n```\\n\\n\u663e\u7136\u5b9e\u9645\u7ed3\u679c\u548c\u6211\u4eec\u7684\u9884\u671f\u7ed3\u679c\u4e4b\u95f4\uff0c\u5dee\u4e86\u4e00\u4e2a\u4e0d\u5e0c\u671b\u88ab\u6ce8\u5165\u5230 dom \u6807\u7b7e\u4e0a\u9762\u7684 property\u3002\u8fd9\u8981\u6839\u636e styled-components \u7684 props \u7684 passing \u903b\u8f91\u6765\u5904\u7406\uff0c\u6839\u636e\u6587\u6863\u4e2d\u7684\u8bf4\u6cd5\uff0c\u4efb\u4f55\u4f7f\u7528\u5728 styled-components \u7684\u7ec4\u4ef6\u4e0a\u9762\u7684 property \u90fd\u4f1a\u88ab\u6ce8\u5165\u5230 html \u4e2d\uff0c**\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u88ab\u6ce8\u5165\uff0c\u8981\u5728\u5c5e\u6027\u524d\u9762\u52a0$\u6765\u5c4f\u853d\u6389**\u3002\u6240\u4ee5\u6700\u7ec8\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u5982\u4e0b\\n\\n### \u89e3\u51b3\u65b9\u6cd5\\n\\n```js\\nconst Component =\\n    styled.div <\\n    { $customColor: string } >\\n    (({ $customColor }) => {\\n        return css`\\n            height: 100px;\\n            color: ${customColor};\\n        `\\n    })\\n```\\n\\n```js\\nconst ReactComponent:React.FC<...> = () => {\\n    return (\\n        <Component $customColor={\\"red\\"}/>\\n    )\\n}\\n```\\n\\n\u8fd9\u6837\u6700\u540e\u6e32\u67d3 dom \u7684\u7ed3\u679c\u5982\u4e0b\\n\\n```html\\n<div class=\\"sc-xxxx\\" />\\n```\\n\\n## 3. \u4e0d\u5e0c\u671b\u88ab\u6ce8\u5165\u5230 dom \u7684 property \u88ab\u6ce8\u5165\uff0c\u6709\u4ec0\u4e48\u5f71\u54cd\\n\\n\u9996\u5148\uff0c\u7b26\u5408\u89c4\u8303\u7684 dom \u7684 properties \u90fd\u662f\u5168\u5c0f\u5199\u7684\uff0c\u6709\u4e9b\u4f1a\u7528 \u6760 \u6765\u8fde\u63a5\u3002\u90a3\u4e48\u81f3\u5c11\u5728 React \u7684\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u6211\u4eec\u4e0d\u662f\u89c4\u8303\u7684 property\uff0c\u90fd\u4f1a\u88ab\u8ba4\u4e3a\u662f\u5bf9\u7ec4\u4ef6\u7684\u4f20\u53c2\uff0c\u6240\u4ee5\u539f\u751f\u7684 React \u7684\u7ec4\u4ef6\u5bf9\u4e8e\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f88\u591a\u60c5\u51b5\u4e0b\u662f\u6ca1\u6709\u4ec0\u4e48\u5f71\u54cd\u7684\u3002\\n\\n\u4f46\u662f\u5728 styled-components \u4e2d\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u88ab\u6ce8\u5165\u5230 html \u4e2d\u7684\u5c5e\u6027\u88ab\u6ce8\u5165\u4e0a\u53bb\u4e86\uff0c\u5e76\u4e14\u672c\u6765\u5e94\u8be5\u662f\u5927\u9a7c\u5cf0\u7684\uff0c\u6700\u540e\u53d8\u6210\u4e86\u5c0f\u9a7c\u5cf0\uff0c\u8fd9\u6837\u5728 dom \u5143\u7d20\u68c0\u67e5\u4e0a\u4f1a\u9020\u6210\u4e00\u5b9a\u7684\u8bef\u89e3\u3002\\n\\n\u800c\u6211\u8bb0\u5f55\u8fd9\u4e2a\u95ee\u9898\u7684\u539f\u56e0\u662f\uff0c\u5728\u6211\u6709\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u751f\u6210\u7684\u5feb\u7167\u4e0a\u9762\u7684\u6807\u7b7e\u4e0a\u7a81\u7136\u751f\u6210\u4e86\u8fd9\u6837\u7684\u4e00\u4e2a property\uff0c\u63a7\u5236\u53f0\u8fd8\u629b\u51fa\u4e86\u5927\u91cf\u7684\u8b66\u544a\uff0c\u4e5f\u5c31\u662f\u4e0a\u9762\u63d0\u5230\u7684\u90a3\u4e2a\u8b66\u544a\u4fe1\u606f\u3002\u5f53\u65f6\u6211\u5e76\u6ca1\u6709\u610f\u8bc6\u5230\u8fd9\u4e2a`passing props`\u6982\u5ff5\u7684\u5b58\u5728\uff0c\u6211\u8ba4\u4e3a\u53ea\u6709\u6807\u51c6\u7684 property \u624d\u4f1a\u88ab\u6ce8\u5165\u5230 html \u6807\u7b7e\u4e0a\uff0c\u5176\u4ed6\u4e0d\u7b26\u5408\u6807\u51c6\u7684\u5e76\u4e0d\u4f1a\u88ab\u6ce8\u5165\u5230 dom \u4e0a\uff0c\u800c\u662f\u88ab\u5f53\u4f5c\u662f\u7ec4\u4ef6\u7684\u4f20\u53c2\uff0c\u4f46\u5b9e\u9645\u5e76\u4e0d\u662f\u8fd9\u6837\u3002\\n\\n\u6211\u60f3\u4e86\u4e00\u4e0b\uff0c\u6211\u5f53\u65f6\u4fee\u6539\u4e86\u4e00\u4e9b\u7ec4\u4ef6\u7684\u4f20\u53c2\u65b9\u5f0f\uff0c\u5c31\u9020\u6210\u4e86\u8fd9\u6837\u7684\u7ed3\u679c\uff0c\u6211\u89c9\u5f97**\u5728\u7075\u6d3b\u7684 React \u7ec4\u4ef6\u4f20\u53c2\u65b9\u5f0f\u4e0a\uff0c\u6709\u7684\u65b9\u5f0f\u4f1a\u9020\u6210\u8fd9\u6837\u7684\u7ed3\u679c\uff0c\u800c\u6709\u7684\u4e0d\u4f1a**\uff0c\u8fd9\u662f\u5e76\u4e0d\u5e0c\u671b\u51fa\u73b0\u7684\uff0c\u6240\u4ee5\u6700\u597d\u7684\u662f\u6839\u636e\u5b98\u65b9\u7684\u6587\u6863\u7528$\u7b26\u53f7\u6765\u786e\u5b9a\u6027\u7684\u5c06 property \u6392\u9664\u6389\u3002"},{"id":"/2023/8/30/ \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5","metadata":{"permalink":"/blog/2023/8/30/ \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5","source":"@site/blog/2023-8-30 \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5.md","title":" \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5","description":"SVG \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u662f\u53ef\u7f29\u653e\u7684\u77e2\u91cf\u56fe\u50cf\u6587\u4ef6\uff0c\u5b83\u6839\u636e\u8bbe\u5b9a\u7684\u4e00\u4e9b\u53c2\u6570\u548c\u66f2\u7ebf\u76f4\u7ebf\u7b49\u7b97\u6cd5\u6765\u6e32\u67d3\u51fa\u6765\u56fe\u7247\uff0c\u6240\u4ee5\u5b83\u80fd\u5f88\u5bb9\u6613\u53bb\u81ea\u5b9a\u4e49\u56fe\u7247\u7684\u6837\u5f0f\u3002","date":"2023-08-30T00:00:00.000Z","formattedDate":"2023\u5e748\u670830\u65e5","tags":[],"readingTime":1.64,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":" passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a","permalink":"/blog/2023/9/1/ passing props \u963b\u6b62styled-components\u7684props\u7ed1\u5b9a\u5230\u539f\u751fdom\u4e0a"},"nextItem":{"title":" github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55","permalink":"/blog/2023/7/20/ github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55"}},"content":"SVG \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u662f\u53ef\u7f29\u653e\u7684\u77e2\u91cf\u56fe\u50cf\u6587\u4ef6\uff0c\u5b83\u6839\u636e\u8bbe\u5b9a\u7684\u4e00\u4e9b\u53c2\u6570\u548c\u66f2\u7ebf\u76f4\u7ebf\u7b49\u7b97\u6cd5\u6765\u6e32\u67d3\u51fa\u6765\u56fe\u7247\uff0c\u6240\u4ee5\u5b83\u80fd\u5f88\u5bb9\u6613\u53bb\u81ea\u5b9a\u4e49\u56fe\u7247\u7684\u6837\u5f0f\u3002\\n\\n\u5f53\u7136\u5728\u524d\u7aef\u4e2d\uff0csvg \u8fd0\u7528\u5230 html \u4e0a\u662f\u66f4\u52a0\u7684\u65b9\u4fbf\uff0c\u5b83\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6807\u7b7e\u7684\u5f62\u5f0f\u6765\u88ab\u6e32\u67d3\u51fa\u6765\uff0c**\u6807\u7b7e\u4e2d\u7684\u4e00\u4e9b\u5c5e\u6027\u7b49\u6765\u51b3\u5b9a\u6e32\u67d3\u7684 svg \u7684\u6837\u5f0f**\uff0c\u90a3\u4e48\u6839\u636e\u8fd9\u6837\u7684\u4e00\u4e2a\u7279\u70b9\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u65b9\u4fbf\u7684\u5bf9\u4e0d\u540c\u7684 svg \u8bbe\u7f6e\u4e0d\u540c\u7684\u6837\u5f0f\u7b49\u3002\\n\\n### 1. \u5982\u4f55\u6e32\u67d3\u81ea\u5b9a\u4e49\u7684 svg \u56fe\u7247\u6765\u8fd0\u7528\u5230 js \u7684\u6e32\u67d3\u4e2d\\n\\n\u4f7f\u7528 btoa \u6765\u6784\u5efa base64 \u7684 svg \u56fe\u7247\u3002\\n\\n\u4e0b\u9762\u6765\u5c01\u88c5\u4e00\u4e2a\u51fd\u6570\uff0c\u7b80\u5355\u7684\u4f20\u5165\u4e00\u4e2a svg \u7684 fill \u5c5e\u6027\u652f\u6301\u7684\u989c\u8272\u5b57\u7b26\u4e32\uff0c\u6765\u751f\u6210\u4e0d\u540c\u989c\u8272\u7684 svg \u56fe\u7247\u3002\\n\\n```js\\n//genSVG.js\\n//\u8fd9\u91cc\u7684svg\u7684iconfont\u4e2d\u7684\\nexport default (color) => {\\n    var svg = `\\n    <svg fill=\\"${color}\\" t=\\"1692813506367\\" class=\\"icon\\" viewBox=\\"0 0 1064 1024\\" version=\\"1.1\\" xmlns=\\"http://www.w3.org/2000/svg\\" p-id=\\"1440\\" width=\\"200\\" height=\\"200\\"><path d=\\"M512 0c282.781538 0 512 229.218462 512 512S794.781538 1024 512 1024s-512-229.218462-512-512S229.218462 0 512 0z\\"  p-id=\\"1441\\"></path></svg>\\n    `\\n\\n    // \u8f6c\u6362\u4e3adata URI\\n    var svgDataURI = \\"data:image/svg+xml;base64,\\" + btoa(svg)\\n\\n    return svgDataURI\\n}\\n```\\n\\n### 2. \u603b\u7ed3\\n\u5f88\u591a\u65f6\u5019\u4f1a\u8ba4\u4e3a\u56fe\u7247\u8fd9\u79cd\u975e\u4ee3\u7801\u7684\u4e0d\u80fd\u53bb\u52a8\u6001\u7684\u4fee\u6539\uff0c\u5176\u5b9e\u53ef\u4ee5\u6362\u4e00\u4e2a\u601d\u8def\u5c31\u662f\u53bb\u6784\u5efabase64\u7f16\u7801\u6765\u5b9e\u73b0\u3002"},{"id":"/2023/7/20/ github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55","metadata":{"permalink":"/blog/2023/7/20/ github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55","source":"@site/blog/2023-7-20 github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55.md","title":" github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55","description":"\u6839\u636e\u4e0a\u4e00\u7bc7\u535a\u5ba2\uff0c\u53ef\u4ee5\u8fdb\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\uff0c\u90a3\u4e48\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\u5173\u4e8e\u5728github\u4e0a\u9762\u63d0\u4ea4pr\u7684\u65f6\u5019\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898\u7b49\u3002","date":"2023-07-20T00:00:00.000Z","formattedDate":"2023\u5e747\u670820\u65e5","tags":[],"readingTime":5.605,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":" \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5","permalink":"/blog/2023/8/30/ \u52a8\u6001\u751f\u6210\u81ea\u5b9a\u4e49svg\u7684\u89e3\u51b3\u65b9\u6cd5"},"nextItem":{"title":" git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054","permalink":"/blog/2023/7/18/ git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054"}},"content":"\u6839\u636e\u4e0a\u4e00\u7bc7\u535a\u5ba2\uff0c\u53ef\u4ee5\u8fdb\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\uff0c\u90a3\u4e48\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\u5173\u4e8e\u5728github\u4e0a\u9762\u63d0\u4ea4pr\u7684\u65f6\u5019\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898\u7b49\u3002\\n\\n## pr\u63d0\u4ea4\\n\u5728\u6211\u4eec\u9700\u8981\u5bf9\u4e00\u4e2a\u4ed3\u5e93\u8fdb\u884c\u4ee3\u7801\u8d21\u732e\u7684\u65f6\u5019\uff0c**\u5148fork\u4ee3\u7801\u5230\u81ea\u5df1\u7684\u4ed3\u5e93\uff0c\u7136\u540e\u5728\u672c\u5730\u53bbclone**\uff0c\u8fd9\u662f\u4e00\u822c\u7684\u6bd4\u8f83\u6807\u51c6\u7684\u6d41\u7a0b\u3002\\n\\n\u90a3\u4e48\u5728clone\u5b8c\u4e4b\u540e\uff0c\u672c\u5730\u4f1a\u81ea\u52a8\u521d\u59cb\u5316\u4e00\u4e2a\u4ed3\u5e93\uff0c\u8fd9\u4e2a\u4ed3\u5e93\u548cgithub\u7ba1\u7406\u7684\u4ed3\u5e93\u7684**\u7248\u672c\u662f\u4e00\u81f4\u7684**\uff0c\u7531\u4e8egithub\u7684\u8fdc\u7a0b\u4ed3\u5e93\u662f\u521a\u4ece\u9700\u8981\u8d21\u732e\u4ee3\u7801\u7684\u4ed3\u5e93fork\u8fc7\u6765\u7684\uff0c\u90a3\u4e48\u5b83\u4eec2\u4e2a\u4ed3\u5e93\u7684\u7248\u672c\u4e5f\u662f\u4e00\u81f4\u7684\u3002\\n\\n\u56e0\u4e3a\u6211\u4eec\u662f\u63d0\u4ea4pr\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u5bf9\u8d21\u732e\u4ee3\u7801\u7684\u7248\u672c\u7ba1\u7406\u662f\u7ba1\u7406\u5458\u53bb\u8fdb\u884c\u7684\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7ba1\u7406\u6211\u4eec\u81ea\u5df1\u7684\u4ed3\u5e93\u5c31\u884c\u4e86\uff0c\u90a3\u4e48\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u5728\u8fd9\u4e2a\u7248\u672c\u7684\u57fa\u7840\u4e0a\u9762\u53bb\u4fee\u6539\u4ee3\u7801\uff0c\u7136\u540e\u63d0\u4ea4\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u8fd9\u6837\u5728\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u5c31\u6709\u4e86\u4e00\u4e9b\u63d0\u793a\uff0c\u5176\u4e2d\u5c31\u6709`contribute`\u7b49\u7b49\uff08\u4e5f\u53ef\u4ee5\u5230\u8d21\u732e\u4ed3\u5e93\u4e2d\u53bbnew Pr\uff0c\u4e5f\u53ef\u4ee5\u8bc6\u522b\u5230\u4ee3\u7801\u7684\u66f4\u6539\uff09\u3002 \u6211\u4eec\u8fdb\u884c`contribute`\u4e4b\u540e\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a`pr`\uff0c`pr`\u4e2d\u5c55\u793a\u4e86\u6211\u4eec\u7684\u4ed3\u5e93\u7684\u4e00\u4e9b\u63d0\u4ea4\u8bb0\u5f55\uff0c\u53ef\u4ee5\u770b\u5230\u4fee\u6539\u4e86\u54ea\u4e9b\u5185\u5bb9\u7b49\u7b49\u3002 \u5bf9\u4e8e\u63d0\u4ea4\u7684\u5185\u5bb9\uff0c\u522b\u4eba\u53ef\u4ee5\u5728\u4ee3\u7801\u51fa\u8fdb\u884c\u8bc4\u8bba\u7b49\uff0c\u7b49\u5f85\u6ca1\u6709\u4efb\u4f55\u5206\u6b67\u4e4b\u540e\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u53bb\u5141\u8bb8\u5408\u5e76\u4ee3\u7801\u3002\\n\\n## \u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55\\n**\u8fd9\u91cc\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55\u7528\u5230\u53d8\u57fa\uff0c\u901a\u8fc7\u5f3a\u5236\u63a8\u9001\u6765\u8fbe\u5230\u8fdc\u7a0b\u4ed3\u5e93\u548c\u672c\u5730\u4ed3\u5e93\u4fdd\u6301\u4e00\u81f4\u7684\u5e72\u51c0\u63d0\u4ea4\u5386\u53f2\u8bb0\u5f55\uff0c\u5728\u4f7f\u7528\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u628a\u63e1\u4ee3\u7801\u7684\u5b89\u5168\u6027\uff0c\u4ee5\u9632\u56e0\u4e3a\u5f3a\u5236\u63a8\u9001\u5e26\u6765\u4ee3\u7801\u7684\u51b2\u7a81\u7b49\u5bfc\u81f4\u4ee3\u7801\u635f\u5931\u3002**\\n\\n### pr\u4e2d\u63d0\u4ea4\u591a\u4e2a\u4ee3\u7801\uff0c\u5bfc\u81f4pr\u4e2d\u7684\u63d0\u793a\u4fe1\u606f\u6742\u4e71 \u2014\u2014 \u53d8\u57fa\\n\u6bd4\u5982\u6211\u4eec\u63d0\u4ea4\u4e86\u4e00\u6bb5\u4ee3\u7801\uff0c\u4f46\u662f\u6709\u4eba\u8bf4\u8fd9\u4e2a\u4ee3\u7801\u6709\u4e9b\u5730\u65b9\u4e0d\u597d\uff0c\u4e8e\u662f\u6211\u4eec\u5728\u63d0\u4ea4\u4e86\u7b2c\u4e00\u6b21\u7684\u7248\u672c\u4e0a\u53c8\u8fdb\u884c\u4e86\u66f4\u65b0\u548c\u63a8\u9001\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u8fdc\u7a0b\u4ed3\u5e93\u5c31\u6bd4\u8d21\u732e\u4ed3\u5e93\u591a\u4e862\u4e2a\u63d0\u4ea4\u8bb0\u5f55\uff0c\u5728pr\u4e2d\u4e5f\u4f1a\u6709\u76f8\u5e94\u7684\u63d0\u4ea4\u8bb0\u5f55\u63d0\u793a\u3002\u6b64\u65f6\u6211\u4eec\u53d1\u73b0\u6709\u4e2a\u5730\u65b9\u5199\u9519\u4e86\uff0c\u6211\u4eec\u4fee\u6539\u540e\u53c8\u63d0\u4ea4\u4e86\u4e00\u4e2a\u8bb0\u5f55\u3002 \\n\\n\u6839\u636e\u4e0a\u8ff0\u7684\u60c5\u5f62\uff0c\u5df2\u7ecf\u63d0\u4ea4\u4e863\u6761\u8bb0\u5f55\uff0c\u5176\u4e2d\u7b2c1\u6761\u8bb0\u5f55\u662f\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u4fee\u6539\u601d\u8def\uff0c\u7b2c2\uff0c3\u6761\u8bb0\u5f55\u662f\u5bf9\u7b2c1\u4e2a\u8bb0\u5f55\u7684\u4f18\u5316\uff0c\u663e\u7136\u6211\u4eec\u4e0d\u9700\u8981\u5c06\u7b2c\u4e8c\u6b21\u4f18\u5316\u5206\u62102\uff0c3\u8fd9\u4e24\u6761\u8bb0\u5f55\uff0c\u6211\u4eec\u9700\u8981\u505a\u7684\u5c31\u662f\u53d8\u57fa\uff0c\u5c062\uff0c3\u6761\u8bb0\u5f55\u4e2d\u7684\u4ee3\u7801\u901a\u8fc7\u53d8\u57fa\u5c06\u63d0\u4ea4\u8bb0\u5f55\u5408\u5e76\u52302\u4e2d\uff0c\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u4ee5\u53capr\u4e2d\u591a\u4f59\u7684\u63d0\u793a\u4fe1\u606f\u90fd\u4f1a\u76f8\u5e94\u7684\u88ab\u5408\u5e76\u3002\\n\\n\u9996\u5148\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u901a\u8fc7`git log`\u6765\u67e5\u770bcommit hash\u503c\u4ee5\u53ca\u67e5\u770b3\u6761\u8bb0\u5f55\u4fe1\u606f\u3002\\n```git\\ngit log\\n```\\n\u8f93\u51fa\u7684\u5185\u5bb9\u5c06\u4f1a\u662f\u8fd9\u6837\\n```\\n\u7b2c\u4e09\u6b21\u63d0\u4ea4\u5185\u5bb9 21j31239802173124h12h\\n\u7b2c\u4e8c\u6b21\u63d0\u4ea4\u5185\u5bb9 128930218312j312mn3lk\\n\u7b2c\u4e00\u6b21\u63d0\u4ea4\u5185\u5bb9 ji123n21jk3kj21h312h3\\n```\\n\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528\u53d8\u57fa\uff0c\u901a\u8fc7\u6307\u660e\u4e00\u4e2a\u6211\u4eec\u60f3\u5408\u5e76\u5230\u7684\u4e00\u4e2a\u80fd\u8ba9\u63d0\u4ea4log\u4fe1\u606f\u53d8\u5e72\u51c0\u7684\u4e00\u6b21\u63d0\u4ea4\u8bb0\u5f55\u7684hash\u503c\uff0c\u50cf\u4e0b\u9762\u8fd9\u6837\\n```\\ngit rebase -i 128930218312j312mn3lk\\n```\\n\u7136\u540e\u5c31\u4f1a\u8f93\u51fa\u4e0b\u9762\u7684\u4fe1\u606f\u3002**\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u628a\u524d\u9762\u7684pick\u6539\u6210drop\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u8f93\u51fa\u7684\u8fd9\u51e0\u6761\u8bb0\u5f55\u5c31\u4f1a\u5408\u5e76\u6210pick\u7684\u8fd9\u4e00\u6761\u8bb0\u5f55\u3002**\\n```diff\\n- pick \u7b2c\u4e09\u6b21\u63d0\u4ea4\u5185\u5bb9 21j31239802173124h12h\\n+ drop \u7b2c\u4e09\u6b21\u63d0\u4ea4\u5185\u5bb9 21j31239802173124h12h\\npick \u7b2c\u4e8c\u6b21\u63d0\u4ea4\u5185\u5bb9 128930218312j312mn3lk\\n```\\n\u5b8c\u6210\u4e4b\u540e\uff0c\u901a\u8fc7`vim`\u7684\u547d\u4ee4`!wq`\u6765\u4fdd\u5b58\u9000\u51fa\uff0c\u4f1a\u8f93\u51fa\u4e00\u4e9b\u5b8c\u6210rebase\u7684\u5185\u5bb9\u3002\\n\\n\u6211\u4eec\u518d\u6b21\u901a\u8fc7`git log`\u6765\u67e5\u770b\uff0c\u53d1\u73b0\u524d\u9762\u7684\u4e09\u6761\u8bb0\u5f55\u73b0\u5728\u53ea\u5269\u4e0b\u4e86\u4e24\u6761\u3002\u4f46\u662f\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u5b9e\u9645\u4e0a\u8fd8\u662f\u4e09\u6761\u63d0\u4ea4\u8bb0\u5f55\uff0c\u90a3\u4e48\u6211\u4eec\u8981\u505a\u7684\u662f\u63a8\u9001\u5f53\u524d\u4ed3\u5e93\u7684\u63d0\u4ea4\u3002\\n\\n**\u5728\u4fdd\u8bc1\u6ca1\u6709\u4efb\u4f55\u7684\u4ee3\u7801\u51b2\u7a81\u4ee5\u53ca\u8fdc\u7a0b\u4ee3\u7801\u7684\u6700\u65b0\u63d0\u4ea4\uff0c\u4fdd\u6301\u597drebase\u4e0d\u4f1a\u5e26\u6765\u6240\u6709\u635f\u5931\u7684\u60c5\u51b5\u4e0b\uff0c\u7528`git push --force ....`\u6765\u8fdb\u884c\u5f3a\u5236\u63a8\u9001\u3002**\u5728\u5b8c\u6210\u4e4b\u540e\uff0c\u8fdc\u7a0b\u4ed3\u5e93\u4ee5\u53ca\u5f15\u7528\u4e86**\u7b2c\u4e09\u6b21\u63d0\u4ea4\u8bb0\u5f55**\u7684\u4fe1\u606f\u90fd\u4f1a\u88ab\u5220\u9664\uff0c\u8fd9\u6837\u4e5f\u5c31\u4fdd\u6301\u4e86\u63d0\u4ea4\u4fe1\u606f\u7684\u5e72\u51c0\u3002"},{"id":"/2023/7/18/ git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054","metadata":{"permalink":"/blog/2023/7/18/ git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054","source":"@site/blog/2023-7-18 git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054.md","title":" git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054","description":"\u5728\u6700\u8fd1\u548c\u4e00\u4e9b\u4eba\u89e3\u51b3\u4ee3\u7801\u4e0a\u9762\u7684\u95ee\u9898\u7684\u65f6\u5019\uff0c\u5176\u4e2d\u65e2\u6709\u5916\u884c\u4e5f\u6709\u5185\u884c\uff0c\u4e5f\u6709\u7684\u7a0d\u5fae\u77e5\u9053\u4e00\u70b9\u70b9\u6bd4\u5982github\u8fd9\u79cd\u3002\u6839\u636e\u6211\u6240\u89c1\u5230\u7684\u60c5\u51b5\u6765\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\uff0c\u4f60\u5fc5\u987b\u8981\u5f88\u4e86\u89e3github\u5982\u4f55\u53bb\u5feb\u901f\u7684\u521b\u5efa","date":"2023-07-18T00:00:00.000Z","formattedDate":"2023\u5e747\u670818\u65e5","tags":[],"readingTime":6.52,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":" github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55","permalink":"/blog/2023/7/20/ github pr\u548c\u53d8\u57fa\u5408\u5e76\u63d0\u4ea4\u8bb0\u5f55"},"nextItem":{"title":" \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316","permalink":"/blog/2023/7/15/ \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316"}},"content":"\u5728\u6700\u8fd1\u548c\u4e00\u4e9b\u4eba\u89e3\u51b3\u4ee3\u7801\u4e0a\u9762\u7684\u95ee\u9898\u7684\u65f6\u5019\uff0c\u5176\u4e2d\u65e2\u6709\u5916\u884c\u4e5f\u6709\u5185\u884c\uff0c\u4e5f\u6709\u7684\u7a0d\u5fae\u77e5\u9053\u4e00\u70b9\u70b9\u6bd4\u5982github\u8fd9\u79cd\u3002\u6839\u636e\u6211\u6240\u89c1\u5230\u7684\u60c5\u51b5\u6765\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\uff0c\u4f60\u5fc5\u987b\u8981\u5f88\u4e86\u89e3github\u5982\u4f55\u53bb\u5feb\u901f\u7684\u521b\u5efa\\n\u4e00\u4e2a\u672c\u5730\u7684\u4ed3\u5e93\uff0c\u7136\u540e\u5982\u4f55\u53bb\u914d\u7f6e\u4e00\u4e2agit\u7684\u73af\u5883\u4e4b\u540e\u521b\u5efa\u672c\u5730\u7684git\u4ed3\u5e93\uff0c\u7136\u540e\u901a\u8fc7ssh\u6216\u8005https\u7684\u8fde\u63a5\u6765\u4e0egithub\u7684\u5728\u7ebf\u4ed3\u5e93\u8fdb\u884c\u8fde\u63a5\uff08\u6211\u901a\u5e38\u4f7f\u7528ssh\u6765\u8fde\u63a5\uff09\uff0c\u5982\u679c\u5bf9git\u548cgithub\u4e86\u89e3\\n\u4e0d\u591f\u6df1\u523b\u7684\u8bdd\uff0c\u4f1a\u9047\u5230\u5f88\u591a\u7684\u95ee\u9898\u3002\\n\\n\\n## \u4ece\u4e0b\u8f7dgit\u5230\u521b\u5efagit\u672c\u5730\u4ed3\u5e93\\n\u6211\u4eec\u8981\u7528github\uff08\u6216\u8005gitlab\u7b49\u7b49\uff09\u53bb\u7ba1\u7406\u4ee3\u7801\uff0c\u9996\u5148\u8981\u505a\u7684\u662f\u5bf9\u672c\u5730\u7684git\u4ed3\u5e93\u8fdb\u884c\u7ba1\u7406\u3002\u90a3\u4e48**\u7b2c\u4e00\u70b9\u662f\u4e0b\u8f7dgit\u8fd9\u4e2a\u8f6f\u4ef6\uff0c\u5728git\u7684\u5b98\u7f51\u76f4\u63a5\u4e0b\u8f7dgit\u7684\u7a0b\u5e8f\uff0c\u4e0b\u8f7d\u5b8c\u6210\u4e4b\u540e\u5bf9git\u8fdb\u884c\u73af\u5883\u53d8\u91cf\u7684\u914d\u7f6e\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u4efb\u610f\u7684\u7ec8\u7aef\u4e2d\u4f7f\u7528git\u7684\u6240\u6709\u547d\u4ee4\u4e86\u3002**\\n\\n\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u521b\u5efa\u672c\u5730\u7684git\u7ba1\u7406\u4ed3\u5e93\uff0c\u9996\u5148\u8981\u5c06\u7ec8\u7aef\u7684\u8def\u5f84\u9009\u62e9\u5230\u6211\u4eec\u8981\u521b\u5efagit\u7ba1\u7406\u7684\u6587\u4ef6\u5939\u5730\u5740\uff0c\u4f7f\u7528\u547d\u4ee4\\n```\\ngit init\\n```\\n\u8fd9\u6837\u4e0b\u6765git\u5e2e\u6211\u4eec\u521d\u59cb\u5316\u4e86\u4ed3\u5e93\uff0c\u4f60\u53ef\u4ee5\u53d1\u73b0\u5f53\u524d\u6587\u4ef6\u5939\u4e2d\u81ea\u52a8\u521b\u5efa\u4e86\u4e00\u4e2a.git\u7684\u6587\u4ef6\uff0c\u4f9d\u9760\u8fd9\u4e2a\u6587\u4ef6\u5c31\u53ef\u4ee5\u901a\u8fc7git\u6765\u7ba1\u7406\u4ed3\u5e93\u4e2d\u7684\u4ee3\u7801\u3002 `ls -a(linux/macos\u663e\u793a\u5f53\u524d\u76ee\u5f55\u6240\u6709\u6587\u4ef6)`\\n\\n## \u7ba1\u7406\u4ee3\u7801\\n\u6240\u8c13\u7ba1\u7406\u4ee3\u7801\uff0c\u5c31\u662f\u5bf9\u672c\u5730\u7684\u4ee3\u7801\u8fdb\u884c\u8bb0\u5f55\uff0c\u8bb0\u5f55\u6211\u4eec\u7684\u4fee\u6539\uff0c\u8bb0\u5f55\u6211\u4eec\u7684\u63d0\u4ea4\u5386\u53f2\u7b49\u7b49\u3002\u5176\u4e2d\u6bd4\u8f83\u5e38\u7528\u7684\u547d\u4ee4\u4e5f\u5c31\u662f\\n```\\ngit add . //\u6dfb\u52a0\u6240\u6709\u7684\u6587\u4ef6\u5230\u6682\u5b58\u533a\\ngit commit -m \\"\u63d0\u4ea4\u5185\u5bb9\\"\\ngit log //\u67e5\u770b\u63d0\u4ea4\u5386\u53f2\\n```\\n\u8fd9\u4e9b\u90fd\u662fgit\u7684\u547d\u4ee4\uff0c\u4e3a\u4e86\u66f4\u597d\u7684\u4e86\u89e3\u5b83\u4eec\uff0c\u5e94\u8be5\u5230git\u7684\u5b98\u7f51\u4e2d\u8be6\u7ec6\u7684\u4e86\u89e3git\u7684\u547d\u4ee4\u548c\u89c4\u5219\u3002 \u8fd9\u91cc\u6211\u4eec\u7684\u91cd\u70b9\u662f\u5982\u4f55\u901a\u8fc7\u672c\u5730\u4ee3\u7801\u6765\u5173\u8054\u5230github\u4e0a\u9762\uff0c\u5b9e\u73b0github\u5728\u7ebf\u6258\u7ba1\u6211\u4eec\u7684\u4ee3\u7801\u3002\\n\\n## \u5173\u8054github\u4ed3\u5e93\uff08ssh\uff09\\n**\u95ee\u9898\u73b0\u5728\u5c31\u6765\u4e86\uff0c\u5728github\u521b\u5efa\u4e86\u4ed3\u5e93\uff0c\u4f46\u662f\u672c\u5730\u5982\u4f55\u77e5\u9053\u54ea\u4e2agithub\u8d26\u53f7\u662f\u6211\u4eec\u7684?**\\n\\nssh\u7684\u8fde\u63a5\u662f\u901a\u8fc7\u516c\u94a5\u548c\u79c1\u94a5\u7684\u65b9\u5f0f\u6765\u8fde\u63a5\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u505a\u7684\u662f\u5728\u672c\u5730\u751f\u6210\u4e00\u4e9b\u5bc6\u94a5\uff0c\u7136\u540e\u5728github\u4e0a\u9762\u6ce8\u518c\u3002\\n\\n### 1. \u4e3agit\u914d\u7f6e\u5168\u5c40\u7684\u5c5e\u6027\\n\u8fd9\u6837\u7684\u4f5c\u7528\u662f\u4e3agit\u7684\u547d\u4ee4\u63d0\u4f9b\u4e00\u4e9b\u53c2\u6570\uff0c\u5982\u679c\u9047\u5230user.name\u7684\u53c2\u6570\u90a3\u4e48\u5c31\u4f1a\u4f7f\u7528\u540e\u9762\u7684\u503c\uff0c\u90a3\u4e48\u6211\u4eec\u8981\u7528\u5230github\u6240\u4ee5\u5c31\u628a\u5b83\u4eec\u8bbe\u7f6e\u6210github\u8d26\u53f7\u76f8\u5173\u7684\u503c\u3002\\n```\\ngit config --global user.name \\"name\\"\\ngit config --global user.email \\"email\\"\\n```\\n\\n### 2. \u751f\u6210\u79c1\u94a5\u548c\u516c\u94a5\\n\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u4e4b\u540e\u5c31\u4f1a\u51fa\u73b0\u4e00\u4e9b\u63d0\u793a\uff0c\u6839\u636e\u63d0\u793a\u6765\u9009\u62e9\u5373\u53ef\u3002\u901a\u5e38\u90fd\u9009\u662f\uff0c\uff08\u6709yes/no\u7684\u53ef\u80fd\u9ed8\u8ba4\u4e3ano\uff0c\u624b\u52a8\u8f93\u5165yes\uff09\u3002\u63d0\u793a\u751f\u6210\u4e86\u5bc6\u94a5\u7684\u8def\u5f84\uff0c\u627e\u5230 **.pub\u540e\u7f00\u7684\u8fd9\u4e2a\u5c31\u662f\u516c\u94a5**\u3002\\n```\\nssh-keygen -t rsa\\n```\\n\\n### 3. github\u7ed1\u5b9a\u516c\u94a5\\n\u5728github\u7684\u8bbe\u7f6e\u91cc\u9762\uff0c\u4fa7\u8fb9\u83dc\u5355\u680f\u91cc\u9762\u6709\u4e00\u4e2aSSH\u76f8\u5173\u7684\u9009\u9879\uff0c\u8fdb\u53bb\u70b9\u51fb**add key**\uff0c\u90a3\u4e48\u628a\u79c1\u94a5\u7684\u5185\u5bb9\u590d\u5236\u5230\u4e0b\u9762\u7684\u8f93\u5165\u6846\uff0c\u4e0a\u9762\u7684\u6807\u9898\u586b\u5199\u81ea\u5df1\u60f3\u8981\u7684\uff0c\u70b9\u51fb\u6dfb\u52a0\u63d0\u793a\u6dfb\u52a0\u6210\u529f\u90a3\u4e48\u8bf4\u660egithub\u548c\u672c\u673a\u5df2\u7ecf\u914d\u7f6e\u597d\u4e86ssh\u8fde\u63a5\u7684\u4e00\u4e9b\u5185\u5bb9\uff0c\u63a5\u4e0b\u6765\u901a\u8fc7ssh\u6765\u8fde\u63a5\u5373\u53ef\u3002\\n\\n### 4. \u914d\u7f6essh\\n\u627e\u5230github\u4ed3\u5e93\uff0c\u70b9\u51fb\u7eff\u8272\u7684\u5927\u6309\u94ae\uff0c\u4e0b\u9762\u5c31\u6709ssh\u4e86\uff0c\u590d\u5236ssh\u7684\u5185\u5bb9\u3002\\n\\n\u63a5\u4e0b\u6765\uff0c\u5230\u672c\u5730\u7684\u4ed3\u5e93\u6587\u4ef6\u5939\u4e0b\u6253\u5f00\u6587\u4ef6\u5939\uff0c\u6765\u6dfb\u52a0\u8fdc\u7a0bgit\u4ed3\u5e93\u7684\u6e90\u3002\\n```\\ngit remote add origin(origin\u53ef\u4ee5\u81ea\u5df1\u53d6\u540d\u5b57) main \\"git@github.com:.......\\"\\n```\\n\u628a\u590d\u5236\u7684ssh\u7684\u5185\u5bb9\u653e\u5728\u5f15\u53f7\u91cc\u9762\uff0c\u8fd9\u6837\u56de\u8f66\u786e\u8ba4\u4e4b\u540e\u5982\u679c\u6ca1\u6709\u63d0\u793a\u9519\u8bef\u5e94\u8be5\u5c31\u662f\u914d\u7f6e\u597d\u4e86\u3002\u901a\u8fc7\u4e0b\u5217\u7684\u547d\u4ee4\u6765\u786e\u8ba4\uff0c\u4f1a\u53d1\u73b0\u663e\u793a\u4e86\u4e00\u4e9bfetch\u7b49\u7b49\u4ee5\u53ca\u4ed3\u5e93\u5730\u5740\u7b49\u4fe1\u606f\uff0c\u53ef\u4ee5\u68c0\u67e5\u662f\u5426\u662f\u6b63\u786e\u7684\u3002\\n```\\ngit remote -v\\n```\\n\\n### 5. \u63a8\u9001\u4ee3\u7801\u5230\u8fdc\u7a0b\u5206\u652f\\n\u63a5\u4e0b\u6765**\u6211\u4eec\u8981\u628a\u76f8\u5e94\u7684\u5206\u652f\u63a8\u9001\u5230\u8fdc\u7a0bgithub\u4ed3\u5e93\u5bf9\u5e94\u7684\u5206\u652f\uff08\u5982\u679c\u8fdc\u7a0b\u6ca1\u6709\u8fd9\u4e2a\u5206\u652f\uff0c\u4f1a\u81ea\u52a8\u7684\u521b\u5efa\uff09**\\n```\\ngit branch //\u68c0\u67e5\u6240\u6709\u5206\u652f\\ngit chekout branch_name //\u5207\u6362\u5230branch_name\u5206\u652f\\n```\\n**\u8fd9\u91cc\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u70b9\u5c31\u662f\uff0c\u6211\u4eec\u5728\u6ca1\u6709\u505aadd\u548ccommit\u7684\u65f6\u5019\uff0cbranch\u4e0d\u4f1a\u663e\u793a\u4efb\u4f55\u5185\u5bb9\u3002**\\n\\n\u901a\u8fc7\u4e0a\u9762\u7684\u547d\u4ee4\u5df2\u7ecf\u5207\u6362\u5230\u4e86\u6211\u4eec\u9700\u8981\u63a8\u9001\u7684\u5206\u652f\uff0c\u524d\u9762\u6211\u4eec\u4e5f\u901a\u8fc7`git add .` `git commit ....`\u628a\u4fee\u6539\u7684\u4ee3\u7801\u63d0\u4ea4\u4e86\uff0c\u63a5\u4e0b\u6765\u662f\u8981\u8fdb\u884cpush\u3002\\n\\n**\u5982\u679c\u6211\u4eec\u7684\u672c\u5730\u4ed3\u5e93\u7248\u672c\u548c\u8fdc\u7a0b\u4e0d\u4e00\u6837\uff0c\u90a3\u4e48\u4f1a\u9020\u6210\u4ee3\u7801\u7684\u51b2\u7a81\uff0c\u6211\u4eec\u5728push\u4e4b\u524d\u52a1\u5fc5\u8fdb\u884cpull\u3002**\\n```\\ngit pull origin main\\n\\ngit push -u origin main\\n```\\n\\n\u4ee5\u540e\u6211\u4eec\u53ea\u9700\u8981\u901a\u8fc7`add` `commit` `pull` `push`\u8fd9\u4e00\u5957\u6d41\u7a0b\uff0c\u5c31\u53ef\u4ee5\u5b8c\u6210\u4ee3\u7801\u7684\u63a8\u9001\u4e86\u3002\u5f53\u7136\u5176\u4e2d\u4f1a\u9047\u5230\u5f88\u591a\u7684\u5751\uff0c\u7ed3\u5408\u7f51\u7edc\uff0c\u4f1a\u5f88\u5bb9\u6613\u89e3\u51b3\u7684\u3002"},{"id":"/2023/7/15/ \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316","metadata":{"permalink":"/blog/2023/7/15/ \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316","source":"@site/blog/2023-7-15 \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316.md","title":" \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316","description":"\u5173\u4e8edom\u4f18\u5316\u7684\u60c5\u51b5","date":"2023-07-15T00:00:00.000Z","formattedDate":"2023\u5e747\u670815\u65e5","tags":[],"readingTime":4.135,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":" git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054","permalink":"/blog/2023/7/18/ git\u672c\u5730\u7ba1\u7406\u5230github\u7684\u5173\u8054"},"nextItem":{"title":" webpack chunk\u4e0eruntime\u4f18\u5316","permalink":"/blog/2023/4/27/ webpack chunk\u4e0eruntime\u4f18\u5316"}},"content":"## \u5173\u4e8edom\u4f18\u5316\u7684\u60c5\u51b5\\n\u9875\u9762\u4e2d\u6709\u5927\u91cfdom\u9700\u8981\u4f18\u5316\u7684\u60c5\u51b5\u53ef\u80fd\u5206\u4e3a2\u79cd\uff0c\u4e00\u79cd\u662f\u5927\u91cf\u7684dom\u521a\u597d\u94fa\u6ee1\u4e00\u4e2a\u5c4f\u5e55\uff0c\u53e6\u5916\u4e00\u79cd\u662f\u5927\u91cf\u7684dom\u6e32\u67d3\u5230\u4e00\u4e2a\u9875\u9762\u4e0a\u5e76\u4e14\u8d85\u51fa\u4e86\u4e00\u4e2a\u5c4f\u5e55\u3002\\n\\n\u5bf9\u4e8e\u524d\u8005\uff0c\u4e3e\u4f8b\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u9700\u8981\u6e32\u67d3**\u51e0\u767e\u4e2a\u56fe\u7247**\u5728\u4e00\u4e2a\u5b8c\u6574\u7684\u9875\u9762\u4e0a\uff0c\u53ef\u80fd\u770b\u5230\u51e0\u767e\u4e2a\u56fe\u7247\u7684img\u6807\u7b7e\u5e76\u4e0d\u662f\u50cf\u767e\u4e07\u7ea7\u90a3\u4e48\u5938\u5f20\uff0c\u4f46\u662f\u5bf9\u4e8e\u8fd9\u6837\u7684\u6e32\u67d3\u4ecd\u7136\u8fd8\u662f\u6709\u5f88\u591a\u503c\u5f97\u4f18\u5316\u7684\u7a7a\u95f4\u3002\\n\\n\u5bf9\u4e8e\u540e\u8005\uff0c\u5728\u524d\u8005\u7684\u57fa\u7840\u4e0a\u8fd8\u4f1a\u52a0\u5165\u4e00\u4e2a\u5bf9\u6eda\u52a8\u65f6\u7684\u4f18\u5316\uff0c\u56e0\u4e3adom\u975e\u5e38\u7684\u591a\u5bfc\u81f4\u6eda\u52a8\u7684\u65f6\u5019\u4f1a\u6389\u5e27\uff0c\u90a3\u4e48\u9700\u8981\u8fdb\u884c\u6eda\u52a8\u4f18\u5316\uff0c**\u865a\u62df\u5316\u5217\u8868**\u5c31\u662f\u5176\u4e2d\u7684\u4e00\u4e2a\u89e3\u51b3\u65b9\u6cd5\u3002\\n\\n**\u5bf9\u4e8e\u6eda\u52a8\u91c7\u7528\u865a\u62df\u5316\u5217\u8868\u5373\u53ef\u89e3\u51b3\u4e86\uff0c\u8fd9\u91cc\u53ea\u8bb2\u89e3\u5982\u4f55\u4f18\u5316dom\u7684\u6e32\u67d3\u6027\u80fd**\\n\\n## dom\u7684\u6e32\u67d3\u4f18\u5316\\n\u5982\u679c\u6211\u4eec\u8981\u6e32\u67d3\u51e0\u767e\u4e2a\u9875\u9762\uff0c\u73b0\u5728\u6211\u4eec\u7528\u539f\u751f\u7684js\u6765\u505a\u6f14\u793a\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u521b\u5efa\u51e0\u767e\u4e2adom\u4e4b\u540eappend\u5230\u7236\u5143\u7d20\u4e2d\u3002\\n\\n```\\nconst parent = document.getElementById(\\"parent\\")\\n\\n//\u5faa\u73af800\u6b21\\nfor(let i = 0; i < 800; i++){\\n\\tconst img = document.createElement(\\"img\\")\\n\\timg.src = \\"....jpg\\"\\n\\tparent.appendChild(\\"img\\")\\n}\\n```\\n\\n\u8fd9\u6837\u7684\u903b\u8f91\u4f1a\u521b\u5efa800\u4e2adom\u5e76\u4e14\u6e32\u67d3\u5230\u8fd9\u4e2aparent\u5bb9\u5668\u4e2d\uff08parent\u662f\u4e00\u4e2adiv\u6807\u7b7e\uff09\u3002**\u5f53\u6211\u4eec\u6267\u884c\u7684\u65f6\u5019\uff0c\u5982\u679c\u673a\u5668\u6027\u80fd\u4e0d\u662f\u53ca\u5176\u9876\u5c16\uff0c\u90a3\u4e48\u4f60\u4f1a\u53d1\u73b0\u9875\u9762\u4f1a\u5904\u4e8e\u4e00\u4e2a\u8f83\u957f\u65f6\u95f4\u7684\u52a0\u8f7d\u4e2d\uff0c\u5e76\u4e14\u4f60\u4f1a\u53d1\u73b0\u5982\u679c\u4f60\u653e\u4e00\u4e2a\u6309\u94ae\u5728\u9875\u9762\u4e0a\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f60\u9f20\u6807\u70b9\u51fb\u6309\u94ae\u662f\u4e0d\u80fd\u76f8\u5e94\u7684\uff0c\u56e0\u4e3a\u4e3b\u7ebf\u7a0b\u6b63\u5728\u88ab\u5360\u7528\u6765\u6e32\u67d3800\u4e2adom\u3002**\u5230\u8fd9\u91cc\u5c31\u51fa\u73b0\u4e86\u7b2c\u4e00\u4e2a\u4f18\u5316\u7684\u70b9**\u5f02\u6b65\u52a0\u8f7d**\u3002\\n\\n### \u5f02\u6b65\u52a0\u8f7d\\n\u5f02\u6b65\u52a0\u8f7d\u6211\u4eec\u5c31\u8981\u4f7f\u7528\u5230\u5f02\u6b65\u4efb\u52a1\u6765\u8fdb\u884cdom\u7684\u6e32\u67d3\uff0c\u5176\u4e2dsetTimeout\u8fd9\u4e2a\u5b9a\u65f6\u5668api\u5c31\u53ef\u4ee5\u5b9e\u73b0\u5f02\u6b65\u4efb\u52a1\uff0csetTimeout\u5c06\u6267\u884c\u7684\u51fd\u6570\u653e\u5165\u5230\u5f02\u6b65\u4efb\u52a1\u961f\u5217\u4e2d\uff0c\u5f53\u4e3b\u7ebf\u7a0b\u7684\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u4e4b\u540e\u5c31\u8fdb\u5165\u5230\u5f02\u6b65\u4efb\u52a1\u6765\u6267\u884c\u8fd9\u4e2a\u4efb\u52a1\uff0c\u6240\u4ee5\u6211\u4eec\u7684\u4e3b\u7ebf\u7a0b\u59cb\u7ec8\u662f\u4e0d\u4f1a\u88ab\u963b\u585e\u7684\u3002\\n```\\nfunction createDOM(){\\n\\tsetTimeout(()=>{\\n\\t\\tconst img = document.createElement(\\"img\\")\\n\\t\\timg.src = \\"....jpg\\"\\n\\t\\tparent.appendChild(\\"img\\")\\n\\t},50)\\n}\\n```\\n\u7ecf\u8fc7\u4e0a\u9762\u7684\u5c01\u88c5\uff0c\u6211\u4eec\u628acreateDOM\u5c01\u88c5\u6210\u4e86\u4e00\u4e2a\u521b\u5efa\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u6765\u6e32\u67d3\u4e00\u6b21dom\u7684\u903b\u8f91\uff0c\u90a3\u4e48\u6211\u4eec\u8981\u6e32\u67d3800\u4e2a\u5c31\u9700\u8981\u8c03\u7528800\u6b21createDOM\u3002\u5176\u4e2d\u8bbe\u7f6e\u5b9a\u65f6\u5668\u7684\u65f6\u95f4\u95f4\u9694\u4e3a50\u6beb\u79d2\uff0c\u90a3\u4e48\u6bcf\u969450\u6beb\u79d2\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2adom\u5e76\u6dfb\u52a0\u5230\u7236\u5bb9\u5668\u4e2d\uff0c\u5e76\u4e14\u4f1a\u53d1\u73b0\u5b83\u5728\u6e32\u67d3\u7684\u65f6\u5019\u6211\u4eec\u7684\u9f20\u6807\u4ee5\u53ca\u9875\u9762\u90fd\u4e0d\u4f1a\u88ab\u963b\u585e\u5361\u4f4f\uff0c\u4ecd\u7136\u53ef\u4ee5\u89e6\u53d1\u4e00\u4e9b\u4e8b\u4ef6\u3002\\n\\n**\u63d0\u5230\u4e86\u5f02\u6b65\u52a0\u8f7d\uff0c\u8fd8\u6709\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684api\uff0crequestAnimationFrame\u3002**\u8fd9\u4e2aapi\u5728\u52a8\u753b\u4e2d\u4e5f\u5f88\u5e38\u7528\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5728\u4e00\u5e27\u6e32\u67d3\u4e4b\u540e\u6267\u884c\u51fd\u6570\uff0c\u81f3\u4e8e\u6bcf\u79d2\u6e32\u67d3\u591a\u5c11\u5e27\uff0c\u901a\u5e38\u6839\u636e\u5c4f\u5e55\u76ee\u524d\u5237\u65b0\u7387\u6765\u786e\u5b9a\u3002\u5728\u66f4\u591a\u60c5\u51b5\u4e0b\u4f7f\u7528\u8fd9\u4e2aapi\u5177\u6709\u66f4\u5927\u7684\u4f18\u52bf\u3002\\n```\\nconst count = 800\\nlet current = 0\\nfunction createDOM(){\\n\\tif(current >= count) return\\n\\n\\tconst img = document.createElement(\\"img\\")\\n\\timg.src = \\"....jpg\\"\\n\\tparent.appendChild(\\"img\\")\\n\\n\\tcurrent++\\n\\trequestAnimationFrame(createDOM)\\n}\\nrequestAnimationFrame(createDOM)\\n```\\n\\n[requestAnimationFrame\u7684\u8bb2\u89e3](https://juejin.cn/post/7062178363800027173)"},{"id":"/2023/4/27/ webpack chunk\u4e0eruntime\u4f18\u5316","metadata":{"permalink":"/blog/2023/4/27/ webpack chunk\u4e0eruntime\u4f18\u5316","source":"@site/blog/2023-4-27 webpack chunk\u4e0eruntime\u4f18\u5316.md","title":" webpack chunk\u4e0eruntime\u4f18\u5316","description":"\u5728\u5b66\u4e60 webpack \u7684\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230\u4e86\u4e00\u4e2a webpack \u7684\u8fd0\u884c\u65f6\u4ee3\u7801\u6240\u5e26\u6765\u7684\u95ee\u9898\u3002","date":"2023-04-27T00:00:00.000Z","formattedDate":"2023\u5e744\u670827\u65e5","tags":[],"readingTime":9.345,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":" \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316","permalink":"/blog/2023/7/15/ \u9875\u9762\u5927\u91cfdom\u7684\u4f18\u5316"}},"content":"\u5728\u5b66\u4e60 webpack \u7684\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230\u4e86\u4e00\u4e2a webpack \u7684\u8fd0\u884c\u65f6\u4ee3\u7801\u6240\u5e26\u6765\u7684\u95ee\u9898\u3002\\n\\n\u6bd4\u5982`optimization`\u4e2d`runtimeChunk`\u7684\u914d\u7f6e\u7b49\uff0c\u4f1a\u51fa\u73b0\u5e26\u6709 runtime \u7684\u6587\u4ef6\uff0c\u5728\u6211\u4eec\u4f7f\u7528**output.dependOn \u5c5e\u6027\u914d\u7f6e**\u7684\u65f6\u5019\uff0c\u4e5f\u4f1a\u751f\u6210 runtime \u6807\u8bc6\u7684\u6587\u4ef6\uff0c\u90a3\u4e48\u8fd9\u4e2a runtime \u6587\u4ef6\u5230\u5e95\u662f\u4ec0\u4e48\uff1f\\n\\n```diff\\nconst path = require(\\"path\\");\\nconst HtmlWebpackPlugin = require(\\"html-webpack-plugin\\");\\n\\nmodule.exports = {\\n  mode: \\"development\\",\\n+  entry: {\\n+    index: {\\n+      import: \\"./src/index.js\\",\\n+      dependOn: \\"shared\\",\\n+    },\\n+    \\"other-bundle\\": {\\n+      import: \\"./src/other-bundle.js\\",\\n+      dependOn: \\"shared\\",\\n+    },\\n+    shared: \\"lodash\\",\\n+  },\\n  output: {\\n    filename: \\"[name].[contenthash].bundle.js\\",\\n    path: path.resolve(__dirname, \\"dist\\"),\\n    clean: true,\\n  },\\n  plugins: [\\n    new HtmlWebpackPlugin({\\n      title: \\"\u8d44\u6e90\u8f93\u51fa\\",\\n      filename: \\"webpack.html\\",\\n    }),\\n  ],\\n};\\n```\\n\\n\u4e0a\u9762\u8fd9\u662f\u4e00\u4e2a`webpack.config.js`\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5176\u4e2d\u7684\u91cd\u70b9\u5c31\u5728`entry`\u91cc\u9762\uff0c\u770b\u5230\u5176\u4e2d\u914d\u7f6e\u4e86\u4e00\u4e2a`dependOn`\uff0c\u7136\u540e\u4f9d\u8d56\u7684\u662f\u4e00\u4e2a\u65b0\u7684\u5165\u53e3\u6587\u4ef6\uff0c\u90a3\u4e48\u7406\u8bba\u4e0a\u751f\u6210\u6587\u4ef6\u5c31\u4f1a\u6709\u81f3\u5c11 3 \u4e2a\uff0c`index.[hash].js`\uff0c`other-bundle.[hash].js`\u548c`shared.[hash].js`\u3002\u73b0\u5728\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u5c31\u662f\u6211\u4eec\u7b80\u5355\u7684\u914d\u7f6e\u4e86 3 \u4e2a\u5165\u53e3\u6587\u4ef6\uff0c\u7136\u540e\u5176\u4e2d 2 \u4e2a\u4f9d\u8d56\u4e0e\u53e6\u5916\u4e00\u4e2a chunk \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u7684\u662f`lodash`\u8fd9\u4e2a\u5e93\uff0c\u6240\u4ee5`shared.[hash].js`\u4e2d\u5b58\u653e\u7684\u662f lodash \u7684\u4ee3\u7801\u3002\u7136\u540e\u7ee7\u7eed\u770b\u4e0b\u9762\u7684\u8bf4\u660e\\n\\n### optimization.runtimeChunk\\n\\n**\u73b0\u5728\u6211\u4eec\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u914d\u7f6e\uff0c`optimization.runtimeChunk`\u3002\u5bf9\u4e8e runtimeChunk \u8bbe\u7f6e\u4e3a\'single\'\u7684\u4f5c\u7528\u5c31\u662f\uff0c\u4e3a\u6240\u6709\u7684 chunk \u6587\u4ef6\u751f\u6210\u4e00\u4e2a\u5171\u4eab\u7684 runtime \u7684\u6587\u4ef6\uff0c\u8fd9\u6837\u6240\u6709\u5bf9\u6a21\u5757\u5f15\u5165\u6216\u8005\u521d\u59cb\u5316\u7684\u4ee3\u7801\u90fd\u5728\u8fd9\u4e2a\u5171\u4eab\u6587\u4ef6\u4e2d\u5b9e\u73b0\u3002\u8bbe\u7f6e\u6210\'true\'\uff08\u6216\u8005\'multiple\'\uff09\u5c31\u4f1a\u4e3a\u6bcf\u4e00\u4e2a chunk \u751f\u6210\u4e00\u4e2a\u5355\u72ec\u7684 runtime \u7684\u6587\u4ef6\u3002**\\n\\n```diff\\nconst path = require(\\"path\\");\\nconst HtmlWebpackPlugin = require(\\"html-webpack-plugin\\");\\n\\nmodule.exports = {\\n  mode: \\"development\\",\\n  entry: {\\n    index: {\\n      import: \\"./src/index.js\\",\\n      dependOn: \\"shared\\",\\n    },\\n    \\"other-bundle\\": {\\n      import: \\"./src/other-bundle.js\\",\\n      dependOn: \\"shared\\",\\n    },\\n    shared: \\"lodash\\",\\n  },\\n+  optimization: {\\n+    runtimeChunk: true,//\u9ed8\u8ba4\u662ffalse\uff0ctrue\u5bf9\u5e94\u7684\u662f\'multiple\'\uff0c\u8fd8\u53ef\u4ee5\u9009\u62e9\'single\'\u3002\\n+  },\\n  output: {\\n    filename: \\"[name].[contenthash].bundle.js\\",\\n    path: path.resolve(__dirname, \\"dist\\"),\\n    clean: true,\\n  },\\n  plugins: [\\n    new HtmlWebpackPlugin({\\n      title: \\"\u8d44\u6e90\u8f93\u51fa\\",\\n      filename: \\"webpack.html\\",\\n    }),\\n  ],\\n};\\n```\\n\\n\u90a3\u4e48\u6211\u4eec\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\u4e4b\u540e\u8fdb\u884c\u7f16\u8bd1\uff0c\u4ea7\u751f\u7684\u6587\u4ef6\u4f1a\u591a\u51fa\u4e00\u4e2a`runtime~shared.....`\u7684\u6587\u4ef6\u3002\\n\\n### runtime \u6587\u4ef6\u7684\u5185\u5bb9\\n\\n\u6211\u4eec\u73b0\u5728\u8981\u77e5\u9053`runtime~shared...`\u662f\u600e\u4e48\u548c`shared.....js`\u6587\u4ef6\u8054\u7cfb\u8d77\u6765\u7684\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5206\u6790\u4e3a\u4ec0\u4e48\u80fd\u591f\u751f\u6210\u51fa\u4e00\u4e2a runtime \u6587\u4ef6\u6765\u3002\\n\\n\u4e0b\u9762\u662f`shared.js`\u751f\u6210\u7684\u5165\u53e3 js \u6587\u4ef6\u7684\u4ee3\u7801\u5f00\u5934\uff0c\u770b\u7684\u51fa\u6765\u662f\u5f80\u4e00\u4e2a\u6570\u7ec4`self[....]`\u4e2d push \u4e86\u4e00\u4e9b\u6570\u7ec4\uff0c\u901a\u8fc7\u6ce8\u91ca\u548c\u6d4b\u8bd5\u73af\u5883\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u5206\u6790\u51fa\u6765\u8fd9\u4e2a\u6570\u7ec4\u4e2d\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u662f\u6211\u4eec\u4e4b\u524d\u5728`shared.js`\u4e2d\u5f15\u5165\u7684 lodash \u7684\u4ee3\u7801\u3002**\u90a3\u4e48\u8fd9\u4e2a self \u663e\u7136\u662f\u4e00\u4e2a\u5168\u5c40\u7684\u5bf9\u8c61\uff0c\u7136\u540e\u73b0\u5728\u6211\u4eec\u7ed9\u4ed6 push \u4e86\u4e00\u4e9b\u503c\u3002**\u90a3\u4e48\u8fd9\u4e2a\u5c5e\u6027\u6211\u4eec\u63a5\u4e0b\u6765\u518d`runtime`\u6587\u4ef6\u4e2d\u770b\u4e00\u770b\u3002\\n\\n**shared.xxxxx.js**\\n\\n```js\\n...\\n * or disable the default devtool with \\"devtool: false\\".\\n * If you are looking for production-ready output files, see mode: \\"production\\" (https://webpack.js.org/configuration/mode/).\\n */\\n(self[\\"webpackChunkwebpack_learn\\"] = self[\\"webpackChunkwebpack_learn\\"] || []).push([\\n  [\\"shared\\"],\\n  {\\n    /***/ \\"./node_modules/lodash/lodash.js\\":\\n      /*!***************************************!*\\\\\\n  !*** ./node_modules/lodash/lodash.js ***!\\n  \\\\***************************************/\\n      /***/ function (module, exports, __webpack_require__) {\\n        eval(          \\"/* module decorator */ module = __webpack_require__.nmd(module);\\\\nvar __WEBPACK_AMD_DEFINE_RESULT__;/**\\\\n * @license\\\\n * Lodash <https://lodash.com/>\\\\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\\\\n * Released under MIT license <https://lodash.com/license>\\\\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\\\\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\\\\n */\\\\n;(function() {\\\\n\\\\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\\\\n  var undefined;\\\\n\\\\n  /** Used as the semantic version number. */\\\\n  var VERSION = \'4.17.21\';\\\\n\\\\n  /** Used as the size to enable large array optimizations. */\\\\n  var LARGE_ARRAY_SIZE = 200;\\\\n\\\\n  /** Error message constants. */\\\\n  var CORE_ERROR_TEXT = \'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\',\\\\n      FUNC_ERROR_TEXT = \'Expected a function\',\\\\n      INVALID_TEMPL_VAR_ERROR_TEXT = \'Invalid `variable` option passed into `_.template`\';\\\\n\\\\n  /** Used to stand-in for `undefined` hash values. */\\\\n  var HASH_UNDEFINED = \'__lodash_hash_undefined__\';\\\\n\\\\n  /** Used as the maximum memoize cache size. */\\\\n  var MAX_MEMOIZE_SIZE = 500;\\\\n\\\\n  /** Used as the internal argument placeholder. */\\\\n  var PLACEHOLDER = \'__lodash_placeholder__\';\\\\n\\\\n  /** Used to compose bitmasks for cloning. */\\\\n  var CLONE_DEEP_FLAG = 1,\\\\n      CLONE_FLAT_FLAG = 2,\\\\n      CL\\n\\n...\\n```\\n\\n\u4e0b\u9762\u662f\u5bf9\u5e94\u7684 runtime \u7684\u4ee3\u7801\uff0c\u627e\u5230\u4e86\u8fd9\u6837\u7684\u4ee3\u7801\u3002\u5176\u4e2d\u5bf9\u73b0\u5728\u5df2\u6709\u7684 self \u4e2d\u7684\u503c\u8fdb\u884c\u8c03\u7528`webpackJsonpCallback`\uff08\u8c03\u7528\u524d\u6267\u884c\u4e86 bind \u7ed1\u5b9a\uff0c\u8fd9\u4e2a\u573a\u666f\u4e0b\u662f null\uff09\u3002\\n\u7136\u540e**\u91cd\u5199\u4e86 push\uff0c\u5c06 push \u91cd\u5199\u6210\u4e86 webpackJsonpCallback \u4e2d\u5b9e\u73b0\u7684\u65b9\u6cd5\uff0c\u6700\u540e\u4f1a\u79fb\u52a8\u5230**webpack_require**.0 \u7684\u903b\u8f91\u4e2d\u53bb\u3002**\u4e5f\u5c31\u662f\u8bf4\u5728\u6b64\u4e4b\u540e\u5728 self[\'webpackChunkwebpack_learn\']\u4e2d\u7684 push \u64cd\u4f5c\uff0c\u90fd\u4f1a\u88ab\u4ee5\u8fd9\u91cc\u7684\u903b\u8f91\u6765\u6267\u884c\u3002\u663e\u7136 runtime \u6587\u4ef6\u4f1a\u4f18\u5148\u4e8e\u5165\u53e3\u6587\u4ef6\u53bb\u5f15\u5165\u5230 html \u4e2d\u3002\\n\\n**shared.runtime.xxxx.js**\\n\\n```js\\n...\\n/******/ \\t\\t\\t\\tinstalledChunks[chunkId] = 0;\\n/******/ \\t\\t\\t}\\n/******/ \\t\\t\\treturn __webpack_require__.O(result);\\n/******/ \\t\\t}\\n/******/\\n/******/ \\t\\tvar chunkLoadingGlobal = self[\\"webpackChunkwebpack_learn\\"] = self[\\"webpackChunkwebpack_learn\\"] || [];\\n/******/ \\t\\tchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\\n/******/ \\t\\tchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\\n/******/ \\t})();\\n/******/\\n/************************************************************************/\\n/******/\\n/******/\\n...\\n```\\n\\n\u90a3\u4e48\u73b0\u5728\u5c31\u77e5\u9053\u4e86\uff0c\u6211\u4eec\u751f\u6210\u7684\u8fd9\u4e2a runtime \u7684\u6587\u4ef6\uff0c\u5b9e\u9645\u4e0a\u662f\u5bf9\u5165\u53e3\u6587\u4ef6\u6a21\u5757\u7684\u5904\u7406\u3002\u6211\u4eec\u5728\u5165\u53e3\u6587\u4ef6\u4e2d\u4f1a\u5c06\u6a21\u5757\u7684\u6240\u6709\u52a0\u8f7d\u8fdb\u884c\u6267\u884c\uff0c**\u751f\u6210 runtime \u6587\u4ef6\u4e4b\u540e\uff0c\u5728\u5165\u53e3\u6587\u4ef6\u4e2d\u5bf9\u6a21\u5757\u7684\u5904\u7406\u7684\u903b\u8f91\u5c31\u4f1a\u88ab\u8f6c\u79fb\u5230\u8fd9\u4e2a runtime \u6587\u4ef6\u4e2d\u6765\u6267\u884c\u3002**\\n\\n### \u5173\u4e8e runtime \u4ee3\u7801\u7684\u5904\u7406\\n\\n\u90a3\u4e48\uff0c\u73b0\u5728\u6bd4\u5982\u6211\u4eec\u6709 2 \u4e2a js \u6587\u4ef6\uff0c\u5176\u4e2d\u90fd\u5f15\u5165\u4e86 lodash \u7684\u5e93\u3002\u5728\u6211\u4eec\u4e0d\u8bbe\u7f6e\u4efb\u4f55\u5bf9 runtime \u6709\u5f71\u54cd\u7684 webpack \u7684\u914d\u7f6e\u7684\u65f6\u5019\uff0c\u6253\u5305\u540e`lodash`\u7684\u6a21\u5757\u4f1a\u88ab\u52a0\u5165\u5230\u8fd9 2 \u4e2a\u6253\u5305\u7684 js \u6587\u4ef6\u4e2d\u53bb\u3002\u5f53\u6211\u4eec\u5bf9\u8fd9 2 \u4e2a js \u6587\u4ef6\u8bbe\u7f6e\u4e00\u4e2a`dependOn`\u5c5e\u6027\uff0c**\u7136\u540e`dependOn`\u7684\u6a21\u5757\u4f9d\u8d56\u7684\u662f`lodash`\uff0c\u6253\u5305\u540e\u4f1a\u53d1\u73b0\u6211\u4eec\u4e4b\u524d\u7684 2 \u4e2a js \u6587\u4ef6\u4e2d\u7684`lodash`\u7684\u4ee3\u7801\u90fd\u88ab\u8f6c\u79fb\u5230\u4e86\u4e00\u4e2a\u65b0\u7684 chunk \u6587\u4ef6\u4e2d\u53bb\u3002\u90a3\u4e48\u8fd9\u5c31\u662f\u6211\u4eec\u7b2c\u4e00\u4e2a\u4f7f\u7528\u65b9\u6cd5\uff0c\u5c31\u662f\u5bf9\u91cd\u590d\u6a21\u5757\u7684\u62bd\u79bb\u3002**\\n\\n\u8fd9\u91cc\u6ca1\u6709\u5f88\u597d\u7684\u4f53\u73b0\u6211\u4eec\u5bf9\u8fd0\u884c\u65f6\u4ee3\u7801\u7684\u5229\u7528\uff0c\u4f46\u662f\u5728\u4e0b\u9762\u7684\u4e00\u4e2a\u4f8b\u5b50\u5f88\u80fd\u4f53\u73b0\u3002\u540c\u6837\u662f 2 \u4e2a js \u6587\u4ef6\uff0c\u8fd8\u6709\u4e00\u4e2a`count.js`\u4e2d\u5bfc\u51fa\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u7684 value \u5c5e\u6027\u4e3a 0\uff0c\u6211\u4eec\u5728\u53e6\u5916 2 \u4e2a js \u6587\u4ef6\u4e2d\u90fd\u5b9e\u73b0\u7684\u662f\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u7684\u503c\u81ea\u589e\u3002\\n\\n**\u9996\u5148\u6211\u4eec\u4e0d\u5bf9 runtime \u8fdb\u884c\u4efb\u4f55\u7684\u5904\u7406\uff0c\u663e\u7136\u8fd9\u4e2a\u65f6\u5019`count.js`\u4f1a\u5206\u522b\u5b58\u5728\u4e8e\u90a3 2 \u4e2a js \u6587\u4ef6\u4e2d\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u5982\u679c\u5728 html \u4e2d\u6765\u5f15\u5165\u89e3\u6790\u7684\u8bdd\uff0c\u7ed3\u679c\u5c31\u662f\u72ec\u7acb\u7684 2 \u4e2a\u5bf9 count \u5bf9\u8c61\u8fdb\u884c\u521d\u59cb\u5316\u7684\u4ee3\u7801\uff0c\u5f62\u6210\u7684\u4e5f\u662f 2 \u4e2a\u72ec\u7acb\u7684\u4f5c\u7528\u57df\u3002**\\n\\n\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u8bbe\u7f6e`optimization.runtimeChunk=\'single\'`\uff0c\u8ba9\u6240\u6709\u4e00\u5207\u7684 chunk \u90fd\u5f62\u6210\u4e00\u4e2a`runtime`\uff0c\u8fd9\u6837\u8fd9 2 \u4e2a js \u6587\u4ef6\u4e2d\u6240\u6709\u7684\u5185\u5bb9\u90fd\u4f1a push \u5230 runtime \u6587\u4ef6\u4e2d\u53bb\uff08push \u663e\u7136\u5c31\u662f\u4e0a\u9762\u63d0\u5230\u8fc7\u7684\u88ab\u91cd\u5199\u7684 push\uff09\uff0c\u90a3\u4e48\u6700\u7ec8\u6240\u6709\u7684\u4f5c\u7528\u57df\u90fd\u4f1a\u5728`runtime`\u6587\u4ef6\u4e2d\u5f62\u6210\uff0c\u901a\u8fc7 webpack \u5bf9\u91cd\u590d module \u7684\u8fc7\u6ee4\u5904\u7406\u7b49\uff0c\u6700\u7ec8\u91cd\u590d\u7684\u6a21\u5757\u5168\u90e8\u90fd\u4f1a\u5728\u8fd9\u4e2a runtime \u4e2d\u5f15\u5165\u4e00\u6b21\u3002\\n\\n**\u5b9e\u9645\u4e0a\uff0c\u65e0\u8bba\u6211\u4eec\u8bbe\u4e0d\u8bbe\u7f6e`optimization`\u8fd9\u4e2a\u53c2\u6570\uff0c\u6700\u7ec8\u7684\u6a21\u5757\u90fd\u4f1a\u901a\u8fc7 webpack \u7684\u8fd0\u884c\u65f6\u7684\u51fd\u6570\u53bb\u52a0\u8f7d\uff0c\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u5728\u4f18\u5316\u524d\u662f`lodash`\u5206\u522b\u5728 2 \u4e2a\u8fd0\u884c\u65f6\u4ee3\u7801\u4e2d\u52a0\u8f7d\uff0c\u5728\u6211\u4eec\u8bbe\u7f6e`dependOn`\u4e4b\u540e\u5c31\u662f\u5c06\u8fd9 2 \u4e2a\u8fd0\u884c\u65f6\u62bd\u79bb\u6210\u4e00\u4e2a\u72ec\u7acb\u7684 chunk \u6765\u901a\u8fc7\u8fd0\u884c\u65f6\u52a0\u8f7d`lodash`\u3002**\\n\\n### \u591a runtimeChunk\\n\\n\u4e5f\u5c31\u662f\u8bbe\u7f6e`optimization.runtimeChunk=true`\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0cwebpack \u4f1a\u5bf9\u6bcf\u4e00\u4e2a chunk \u6587\u4ef6\u8fdb\u884c\u4fee\u6539\uff0c\u8ba9\u5176\u4e2d\u7684\u903b\u8f91\u8f6c\u79fb\u5230 runtime \u4e2d\u53bb\u6267\u884c\u3002\u867d\u7136\u6bcf\u4e2a chunk \u751f\u6210\u4e86\u5355\u72ec\u7684 runtime \u7684\u6587\u4ef6\uff0c\u4f46\u662f\u4e00\u822c\u60c5\u51b5\u4e0b runtime \u6587\u4ef6\u4e2d\u90fd\u662f\u6267\u884c\u4e00\u6837\u7684\u903b\u8f91\uff0c\u4e0a\u9762\u63d0\u5230\u7684\u5bf9`self`\u4e2d\u5bf9\u8c61\u7684\u5f15\u7528\u4e5f\u90fd\u662f\u540c\u4e00\u4e2a\uff0c\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u4e0a\u9762\u63d0\u5230\u7684`count`\u4e5f\u8fd8\u662f\u53ea\u662f\u88ab\u521d\u59cb\u5316\u4e00\u6b21\u7684\u3002\u4f46\u662f\u5728\u5b98\u7f51\u4e2d\u4ee3\u7801\u5206\u79bb\u677f\u5757\u4e2d\u63d0\u5230\u8fc7\uff0c\u5982\u679c\u4f7f\u7528\u591a\u5165\u53e3\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u8981\u8bbe\u7f6e`optimization.runtimeChunk=single`\uff0c\u8fd9\u6837\u81f3\u5c11\u53ef\u4ee5\u786e\u4fdd\u767e\u5206\u4e4b\u4e0d\u4f1a\u9020\u6210\u6a21\u5757\u7684\u591a\u6b21\u5b9e\u4f8b\u5316\u7b49\u9519\u8bef\u3002"}]}')}}]);